!function(e){var t={defaults:{MapId:null,MapSet:"tu",MapType:"Interactive",EventId:null,AutoSwitchToStatic:!0,SeatingChartAutoCorrect:!0,FailoverMapUrl:null,Columns:{flag:{Title:"",Sortable:!1,Visible:!1,Width:50,Formatter:function(e){var t="";return e.preferred&&(t+='<span class="tuMapPreferred"></span>'),e.eticket&&(t+='<span class="tuMapeTicket"></span>'),t}},section:{Title:"Section",Sortable:!0,Width:150,SortType:"string",Visible:!0},row:{Title:"Row",Sortable:!0,SortType:"string",Visible:!0},quantity:{Title:"Quantity",Sortable:!0,SortType:"numeric",Visible:!0,Formatter:function(t,i,n){var o="";if("object"==typeof n){var o='<select lang="Quantity">';e.each(n,function(e,t){o+="<option>"+t+"</option>"}),o+="</select>"}else o=n+'<input type="hidden" value="'+n+'" lang="Quantity"/>';return o}},price:{Title:"Price",Sortable:!0,SortType:"numeric",Visible:!0},notes:{Title:"",Width:35,Sortable:!1,Visible:!0,Formatter:function(e,t,i){return""!=i?'<span class="Notes" title="'+i+'"></span>':""}},action:{Title:"",Sortable:!1,Visible:!0,Formatter:function(e){return'<a class="BuyLink" href="javascript:void(0);" lang="'+e.id+'">'+t.Settings.BuyButtonText+"</a>"}}},DisplayListHeader:!0,PreferredFirst:!1,Tickets:[],TicketsFilter:{MinPrice:0,MaxPrice:0,Quantity:0,Ids:null},TicketsSort:{Column:"section",Order:"ASC",SortType:"string"},TicketsListContainer:null,SectionViewContainer:null,SectionViewTrigger:"mouseover",TooltipSectionViewSize:"250",EnableTooltipSectionView:!0,AlwaysShowTooltip:!1,AnimateTooltip:!1,SingleSectionSelection:!1,RowSelector:null,SectionSelector:null,RowNumberSelector:null,PriceSelector:null,QuantitySelector:null,eTicketSelector:null,BuyButtonText:"Select",PreferredText:"Display Preferred Inventory First",ResetButtonText:"Reset",GroupsContainer:null,ControlsPosition:"Inside",ZoomLevel:3,AdaptiveThreshold:1,MaxZoom:0,BgColor:"#FFFFFF",ServiceUrl:"http://imap.ticketutils.net",OnInit:null,OnBeforeListRender:null,OnAfterListRender:null,OnClick:null,OnGroupClick:null,OnMouseover:null,OnMouseout:null,OnError:null,OnReset:null,OnTicketSelected:null,OnControlClick:null,ColorScheme:0,HighlightStyle:{strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7},NoResultsFormatter:function(){return"No Tickets Found"},TooltipFormatter:function(e){var i='<div style="width:'+t.Settings.TooltipSectionViewSize+'px;">',n=e.LongName;return i+='<span class="SectionColor" style="background-color:'+e.Group.Color+';"></span>',i+='<span class="Title">'+n+"</span>",""!=e.RowDetails&&(i+='<span class="RowDetails">Row: '+e.RowDetails+"</span>"),i+='<span class="SectionViewClose"></span><br/>',e.SectionViewThumbnailUrl&&(t.ShowSectionView(e.Key,"mouseover"),t.Settings.EnableTooltipSectionView&&(i+='<img src="'+e.SectionViewThumbnailUrl+'" alt="'+n+'" style="width:100%;height:'+Math.round(t.Settings.TooltipSectionViewSize/2)+'px"/>',i+='<div class="SectionViewZoom"></div>',i+="<br/>",i+='<div style="color:#666666;font-size:9px;padding-bottom:5px;">Approximate view from this section. May differ based on row, seat, camera or obstructions.</div>')),e.Active?e.Quantity>0&&(i+='<span class="tuMapHighlight">'+e.Quantity+"</span> ticket"+(e.Quantity>1?"s":"")+" available from "+e.MinPrice+(e.MinPrice!=e.MaxPrice?" to "+e.MaxPrice:"")):i+="No Tickets currently available for this Section",i+="</div>"}},Container:null,Map:null,Groups:{},Sections:{},Selection:[],ParkingFlag:!1,PreferredFlag:!1,eTicketFlag:!1,ConvertZoom:function(e){return e||(e=t.Settings.ZoomLevel-1),n.Resolutions.length>e?n.Resolutions[e]/100:(n.Zoom=n.Resolutions.length-1,n.Resolutions[n.Resolutions.length-1]/100)},ZoomIn:function(){return n.ZoomIn()},ZoomOut:function(){return n.ZoomOut()},Reset:function(){t.HideSectionView("click"),n.Wrapper.trigger("OnReset")},SetOptions:function(i){return e.each(i,function(i,o){switch(t.Settings[i]=o,i){case"Tickets":case"Columns":"Reset"!=t.RefreshType&&(t.RefreshType="ProcessTickets");break;case"PreferredFirst":case"TicketsSort":"Reset"!=t.RefreshType&&"ProcessTickets"!=t.RefreshType&&(t.RefreshType="SortTickets");break;case"PreferredText":case"TicketsFilter":var r=t.Settings.TicketsFilter.Quantity,a=0,s="eq";if("string"==typeof t.Settings.TicketsFilter.Quantity){var l=t.Settings.TicketsFilter.Quantity.indexOf("-");if(l!=-1)r=t.Settings.TicketsFilter.Quantity.substring(0,l),a=t.Settings.TicketsFilter.Quantity.substring(l+1),s="bt";else{r=t.Settings.TicketsFilter.Quantity.replace(/[^0-9]+/g,"").toString();var c=e.trim(t.Settings.TicketsFilter.Quantity.replace(r,""));"+"==c&&(s="gt")}}var u={MinPrice:parseFloat(t.Settings.TicketsFilter.MinPrice),MaxPrice:parseFloat(t.Settings.TicketsFilter.MaxPrice),Quantity:parseInt(r),MaxQuantity:parseInt(a),Comparison:s,eTicket:t.Settings.TicketsFilter.eTicket,Ids:null!=t.Settings.TicketsFilter.Ids&&t.Settings.TicketsFilter.Ids.length>0?t.Settings.TicketsFilter.Ids:null};t.Settings.TicketsFilter=u,"Reset"!=t.RefreshType&&(t.RefreshType="ProcessTickets");break;case"ZoomLevel":n.Zoom=t.Settings.ZoomLevel,n.CheckMaxZoom(),n.SetZoom(t.ConvertZoom());break;case"EventId":case"MapId":case"MapSet":case"MapType":case"Columns":case"TicketsListContainer":case"GroupsContainer":case"TooltipFormatter":t.RefreshType="Reset"}}),this},AddMapControl:function(e,t,i){n.AddMapControl(e,t,i)},RemoveMapControl:function(i){e(".tuMapControl").each(function(){if(e.trim(e(this).html()).toLowerCase()==i.toLowerCase())return e(this).remove(),"Inside"==t.Settings.ControlsPosition&&n.ControlsContainer.css("margin-left",0-parseInt(n.ControlsContainer.width()/2)),!1})},GetSelectedSections:function(i){var n=[];return e.each(t.Selection,function(o,r){var a=t.Sections[r],s=null;if(a){if(i){if(i.IncludeGroupName){t.Groups[a.GroupId];n.push(a.LongName)}else n.push(a.Name);return}s=a.Mappings}else if(t.OtherSections[r]){if(i)return void n.push(t.OtherSections[r].Name);s=t.OtherSections[r].Mappings}e.each(s,function(e,t){n.push(t)})}),n},GetSections:function(i){var n=[];return e.each(t.Sections,function(e,o){i&&0==o.Alias.length||n.push({Active:o.Active,Selected:o.Selected,Key:o.Key,Name:o.Name,DisplayName:o.DisplayName,DisplayGroupName:o.DisplayGroupName,Alias:o.Alias,ExactMatchAlias:o.ExactMatchAlias,Group:t.Groups[o.GroupId],SectionViewAvailable:o.IsSectionViewAvailable,SectionViewThumbnailUrl:o.SectionViewThumbnailUrl,SectionViewUrl:o.SectionViewUrl})}),n},GetOtherSections:function(){var i=[];return e.each(t.OtherSections,function(e,t){i.push({Name:t.Name,Alias:t.Alias,Enabled:t.Enabled,IsExactMatch:t.IsExactMatch})}),i},GetSectionsInGroup:function(i,n,o){e.each(t.Sections,function(e,t){if(null!=t&&t&&t.GroupId==i){if(null!=n&&n.OnlyActive&&!t.Active)return;if(null!=n&&n.OnlyUnselected&&t.Selected)return;o(e,t)}})},HighlightGroup:function(e){return this.GetSectionsInGroup(e,{OnlyActive:!0,OnlyUnselected:!0},function(e,i){i.SetStyle(t.Settings.HighlightStyle)}),this},ResetGroup:function(e){return this.GetSectionsInGroup(e,{OnlyActive:!0,OnlyUnselected:!0},function(e,i){i.SetStyle(t.Settings.NormalStyle)}),this},HighlightSection:function(e,i){i||(e=t.GetSectionKey(e));var o=t.Sections[e];return null!=o&&n.Trigger("OnMouseOver",t.Sections[e]),this},ResetSection:function(e,i){i||(e=t.GetSectionKey(e));var o=t.Sections[e];return null!=o&&n.Trigger("OnMouseOut",t.Sections[e]),this},BlinkTimer:null,BlinkState:1,Blink:function(){var i=t.Settings.HighlightStyle;1==t.BlinkState?(i=t.Settings.SelectedStyle,t.BlinkState=0,e(".tuMapControlSelected").addClass("tuMapControlBlink").removeClass("tuMapControlSelected")):(t.BlinkState=1,e(".tuMapControlBlink").addClass("tuMapControlSelected").removeClass("tuMapControlBlink")),e.each(t.Selection,function(e,n){var o=t.Sections[n];null!=o&&o.SetStyle(i)})},FilterTickets:function(i,n,o,r){if(o||(t.Selection.length>0&&(e.each(t.Selection,function(e,i){t.Sections[i]&&(t.Sections[i].Selected=!1)}),t.Selection=[],clearInterval(t.BlinkTimer),t.BlinkTimer=null),i=t.GetSectionKey(i)),n)t.Selection.push(i),null==t.BlinkTimer&&(t.BlinkTimer=setInterval(t.Blink,500));else{for(var a=-1;(a=e.inArray(i,t.Selection))>-1;)t.Selection.splice(a,1);0==t.Selection.length&&(clearInterval(t.BlinkTimer),t.BlinkTimer=null)}r||(t.ProcessTickets(),t.SortTickets(),t.ShowTickets())},AddMarker:function(e,i){var n=e.Section;i||(n=t.GetSectionKey(e.Section));var o=t.Sections[n];o&&o.AddMarker(e.Url,o.GetCenter(),e.Offset)},RemoveMarker:function(e,i){i||(e=t.GetSectionKey(e));var n=t.Sections[e];n&&n.RemoveMarker(n.GetCenter())},ToggleSelection:function(e,i,n){if(t.Settings.SingleSectionSelection&&t.Selection.length>0){var o=t.Selection[0];t.Selection.length=0,t.ToggleSelection(o,!0,!0)}i||(e=t.GetSectionKey(e));var r=t.Sections[e];if(r&&r.Active)return r.Selected?(null!=t.Settings.GroupsContainer&&(t.ZoneSelected=!1,t.Groups[r.GroupId].Selected=!1),0==t.Selection.length?t.HideSectionView("click"):t.ShowSectionView(e,"click")):t.ShowSectionView(e,"click"),r.Selected=!r.Selected,t.FilterTickets(e,r.Selected,!0,n),this},ToggleAll:function(){e.each(t.Sections,function(e,i){t.ToggleSelection(i.Key,!0,!0)}),t.ProcessTickets(),t.SortTickets(),t.ShowTickets()},ProcessTickets:function(){var i=null==t.Settings.TicketsListContainer&&(null==t.Settings.Tickets||0==t.Settings.Tickets.length)&&null==t.Settings.RowSelector;e.each(t.Sections,function(e,n){n.Active=i,n.FilteredTickets=0,n.MinPrice=9007199254740992,n.MaxPrice=0,n.MinPriceValue="",n.MinPriceValue="",n.Quantity=0,n.SetStyle(t.Settings.InactiveStyle)}),e.each(t.Groups,function(e){t.Groups[e].ActiveSections=0,t.Groups[e].HasZoneTickets=!1});var n=t.Settings.Tickets;t.FilteredTickets=[];if(!t.Settings.TicketsListContainer&&t.Settings.RowSelector&&(null==n||0==n.length)){if(!t.Settings.SectionSelector)throw"Section Selector Required";n=[];var o=/<\S[^><]*>/g;e(t.Settings.RowSelector).each(function(){var i=null,r=null,a=e(this).find(t.Settings.SectionSelector).text().replace(o,"");""==a&&t.Settings.ZoneSelector?i=e(this).find(t.Settings.ZoneSelector).text().replace(o,""):r=e(this).find(t.Settings.RowNumberSelector).text().replace(o,"");var s=t.Settings.PriceSelector?e(this).find(t.Settings.PriceSelector).text().replace(o,""):0,l=0;if(t.Settings.QuantitySelector){var c=e(this).find(t.Settings.QuantitySelector);c.length>0&&(1==c.length?l=e.trim(c.text().replace(o,"")):(l=[],e.each(c,function(t,i){l.push(parseInt(e.trim(e(i).text().replace(o,""))))})))}var u=!!t.Settings.eTicketSelector&&e(this).find(t.Settings.eTicketSelector).length>0,p=e(this),S="Zone",h=null;i?h=t.GetZone(i):S=t.GetSectionKey(a,r),e(this).mouseenter(function(){t.HighlightSection(S,!0)}).mouseleave(function(){t.ResetSection(S,!0)}),n.push({SectionKey:S,ZoneKey:h,section:a,row:r,RowObject:p,price:s,quantity:l,eticket:u})})}var r=t.IsFilterSet();e.each(n,function(i,n){if(n.section?null==n.SectionKey&&(n.SectionKey=t.GetSectionKey(n.section,n.row)):n.zone&&null==n.ZoneKey&&(n.ZoneKey=t.GetZone(n.zone),n.SectionKey="Zone"),"Parking"==n.SectionKey&&(t.ParkingFlag=!0),n.price&&("number"==typeof n.price?n.PriceValue=n.price:n.PriceValue=parseFloat(n.price.replace(/[^0-9.-]+/g,""))),t.Settings.Columns.flag&&(n.preferred&&(t.Settings.Columns.flag.Visible=!0,t.PreferredFlag=!0),n.eticket&&(t.Settings.Columns.flag.Visible=!0,t.eTicketFlag=!0)),n.MaxQuantity=0,n.quantity&&("object"==typeof n.quantity?e.each(n.quantity,function(e,t){parseInt(t)>n.MaxQuantity&&(n.MaxQuantity=parseInt(t))}):n.MaxQuantity=parseInt(n.quantity)),0!=n.MaxQuantity){var o=t.IsTicketFiltered(n);if(o&&(!(t.Selection.length>0&&e.inArray(n.SectionKey,t.Selection)==-1)||n.ZoneKey&&t.Groups[n.ZoneKey].Selected)){var r=t.Sections[n.SectionKey];t.ZoneSelected&&!n.ZoneKey&&null!=r&&0==t.Groups[r.GroupId].Selected||(t.FilteredTickets.push(n),null!=r&&(n.GroupColor=t.Groups[r.GroupId].Color))}if(t.Sections[n.SectionKey]){var r=t.Sections[n.SectionKey];n.FormattedSection=r.LongName,n.CleanGroupName=r.CleanGroupName,n.CleanSectionName=r.CleanSectionName,o&&t.Sections[n.SectionKey].FilteredTickets++,t.Sections[n.SectionKey].MinPrice>n.PriceValue&&(t.Sections[n.SectionKey].MinPrice=n.PriceValue,t.Sections[n.SectionKey].MinPriceValue=n.price),t.Sections[n.SectionKey].MaxPrice<n.PriceValue&&(t.Sections[n.SectionKey].MaxPrice=n.PriceValue,t.Sections[n.SectionKey].MaxPriceValue=n.price),t.Sections[n.SectionKey].Quantity+=n.MaxQuantity,t.Sections[n.SectionKey].Active=!0}n.ZoneKey&&(t.Groups[n.ZoneKey].HasZoneTickets=!0)}}),n=null;var a=!1;e.each(t.Sections,function(e,i){return!i.Active||r&&0==i.FilteredTickets?(i.Selected&&(t.Sections[e].Active=!0,t.ToggleSelection(e,!0,!0),a=!0),t.Sections[e].Active=!1,void i.SetStyle(t.Settings.InactiveStyle)):(i.SetStyle(t.Settings.NormalStyle),void t.Groups[i.GroupId].ActiveSections++)}),a&&(t.ProcessTickets(),t.SortTickets(),t.ShowTickets()),null!=t.Settings.GroupsContainer&&t.Groups&&t.GenerateGroups()},SortTickets:function(){if(null!=t.Settings.TicketsListContainer){var e=t.Settings.TicketsSort.SortType;null==e&&(e="string");var i=t.Settings.TicketsSort.Column,n=null,o=t.Settings.Columns[t.Settings.TicketsSort.Column];null!=o&&(e=o.SortType),"price"==i?i="PriceValue":"quantity"==i?i="MaxQuantity":"section"==i&&(n="row");var r=t.Settings.TicketsSort.Order.toUpperCase();t.FilteredTickets.sort(function(o,a){var s=null,l=null,c=null,u=null,p=1==o.preferred,S=1==a.preferred;if("string"==e){s=o[i].toString().toUpperCase(),l=a[i].toString().toUpperCase();var h=parseFloat(s),d=parseFloat(l);if(isNaN(h)||isNaN(d)){if(!isNaN(h)&&isNaN(d))return"ASC"==r?-1:1;if(isNaN(h)&&!isNaN(d))return"ASC"==r?1:-1}else s=h,l=d;if(null!=n&&o[n]){c=o[n].toString().toUpperCase(),u=a[n].toString().toUpperCase();var g=parseFloat(c),f=parseFloat(u);isNaN(g)||isNaN(f)||(c=g,u=f)}}else s=parseFloat(o[i]),l=parseFloat(a[i]);if(t.Settings.PreferredFirst&&p!=S)return"ASC"==r?p?-1:1:p?-1:1;var C=0;return C="ASC"==r?s<l?-1:s>l?1:0:s<l?1:s>l?-1:0,0==C&&null!=c&&null!=u?c<u?-1:c>u?1:0:C})}},AddSectionMapping:function(i,n){t.Sections[i]&&e.inArray(n,t.Sections[i].Mappings)==-1&&t.Sections[i].Mappings.push(n),t.OtherSections[i]&&e.inArray(n,t.OtherSections[i].Mappings)==-1&&t.OtherSections[i].Mappings.push(n)},GetZone:function(i){var n="";return e.each(t.Groups,function(t,o){return o.Name.toLowerCase()==i.toLowerCase()?(n=o.Id,!1):void e.each(o.Alias,function(){if(o.Alias==i)return n=o.Id,!1})}),n},GetSectionKey:function(i,n){n=parseInt(n);var o="Unmapped";SectionName=i.toLowerCase(),SectionName=e.trim(SectionName.replace(/[^0-9a-z]+/g," "));var r="",a="",s=[];if(e.each(t.Groups,function(i,n){if(e.each(n.Alias,function(i,l){var c=SectionName.indexOf(l);if(c!=-1&&(0==c||c==SectionName.length-l.length)&&l.length>=a.length){if(a=l,s.push({GroupId:n.Id,Alias:l}),1==n.SectionCount)return o=n.Id,!1;if(r=e.trim(SectionName.replace(a,"")),t.Sections[r+"_"+n.Id])return o=r+"_"+n.Id,!1}}),"Unmapped"!=o)return!1}),"Unmapped"!=o)return t.AddSectionMapping(o,i),o;var l=[];return e.each(s,function(e,t){t.Alias.length==a.length&&l.push(t.GroupId)}),s=l,0==s.length&&(r=SectionName.replace(/[^0-9]+/g,"").toString(),a=SectionName.replace(r,"")),e.each(t.Sections,function(i,a){var l=t.Groups[a.GroupId];if(null!=l){if(a.Name.toLowerCase()==SectionName){if(l.IsExactMatch&&t.SectionCounts[SectionName]>1)return;if(a.RowStart>0&&a.RowEnd>0&&(n<a.RowStart||n>a.RowEnd))return;return o=a.Key,!1}if(a.Name.toLowerCase()==r&&(!l.IsExactMatch||e.inArray(l.Id,s)!=-1))return o=t.ResolveOtherSection(SectionName),"Unmapped"==o?o=a.Key:t.OtherSections[o]&&(t.OtherSections[o].Enabled=!0),!1;"Unmapped"==o&&null!=a.ExactMatchAlias&&a.ExactMatchAlias.length>0&&e.each(a.ExactMatchAlias,function(e,t){if(t==SectionName)return o=a.Key,!1}),"Unmapped"==o&&null!=a.Alias&&a.Alias.length>0&&e.each(a.Alias,function(i,n){if(n==SectionName)return o=a.Key,!1;if(n==r){if(l.IsExactMatch&&e.inArray(l.Id,s)==-1)return;return o=t.ResolveOtherSection(SectionName),"Unmapped"==o?o=a.Key:t.OtherSections[o]&&(t.OtherSections[o].Enabled=!0),!1}})}}),"Unmapped"==o&&(o=t.ResolveOtherSection(SectionName),t.OtherSections[o]&&(t.OtherSections[o].Enabled=!0)),t.AddSectionMapping(o,i),o},ResolveOtherSection:function(i){var n="Unmapped";return e.each(t.OtherSections,function(t,o){if(o.IsExactMatch){if(t.toLowerCase()==i)return n=t,!1}else if(i.indexOf(t.toLowerCase())!=-1)return n=t,!1;null!=o.Alias&&o.Alias.length>0&&e.each(o.Alias,function(e,r){if(o.IsExactMatch){if(r==i)return n=t,!1}else if(i.indexOf(r)!=-1)return n=t,!1})}),n},IsFilterSet:function(){return t.Settings.TicketsFilter.MinPrice>0||t.Settings.TicketsFilter.MaxPrice>0||1==t.Settings.TicketsFilter.eTicket||t.Settings.TicketsFilter.Quantity>0||null!=t.Settings.TicketsFilter.Ids},IsTicketFiltered:function(i){if(null!=t.Settings.TicketsFilter.Ids&&e.inArray(i.id,t.Settings.TicketsFilter.Ids)==-1)return!1;if(t.Settings.TicketsFilter.MinPrice>0&&i.PriceValue>0&&i.PriceValue<t.Settings.TicketsFilter.MinPrice)return!1;if(t.Settings.TicketsFilter.MaxPrice>0&&i.PriceValue>0&&i.PriceValue>t.Settings.TicketsFilter.MaxPrice)return!1;if(t.Settings.TicketsFilter.eTicket&&t.eTicketFlag&&!i.eticket)return!1;if(!isNaN(t.Settings.TicketsFilter.Quantity)&&t.Settings.TicketsFilter.Quantity>0)if("eq"==t.Settings.TicketsFilter.Comparison){if("object"==typeof i.quantity){if(e.inArray(t.Settings.TicketsFilter.Quantity,i.quantity)==-1)return!1}else if(i.MaxQuantity>0&&i.MaxQuantity!=t.Settings.TicketsFilter.Quantity)return!1}else{if("gt"==t.Settings.TicketsFilter.Comparison&&i.MaxQuantity>0&&i.MaxQuantity<t.Settings.TicketsFilter.Quantity)return!1;if("bt"==t.Settings.TicketsFilter.Comparison)if("object"==typeof i.quantity){if(e.inArray(t.Settings.TicketsFilter.Quantity,i.quantity)==-1)return!1;if(e.inArray(t.Settings.TicketsFilter.MaxQuantity,i.quantity)==-1)return!1}else if(i.quantity<t.Settings.TicketsFilter.MaxQuantity||i.MaxQuantity>0&&i.MaxQuantity>t.Settings.TicketsFilter.MaxQuantity)return!1}return!0},ShowTickets:function(){if(null==t.Settings.TicketsListContainer)return void(null!=t.Settings.RowSelector&&(e(t.Settings.RowSelector).hide(),e.each(t.FilteredTickets,function(e,t){t.RowObject.show()})));var n=0;i.Initialize({Container:t.vTableContainer,Rows:t.FilteredTickets.length,TableFormatter:function(e){return e},ColumnsFormatter:function(i){return t.Settings.DisplayListHeader?(e.each(t.Settings.Columns,function(o,r){if(null==r.Visible||r.Visible){n++;var a=e("<th>");r.Sortable&&a.addClass("Sort"+(o==t.Settings.TicketsSort.Column?" "+t.Settings.TicketsSort.Order:"")),r.Width&&a.css("width",r.Width+"px"),a.attr("lang",o).html("<span>"+r.Title+"</span>"),a.click(function(){if(e(this).hasClass("Sort")){var i="";i=e(this).hasClass("ASC")?"DESC":"ASC",t.Settings.TicketsSort={Column:o,Order:i},t.SortTickets(),t.ShowTickets()}}),i.append(a)}}),i):i.css("display","none")},RowFormatter:function(i,n){var o=t.FilteredTickets[n];return i.addClass(n%2==0?"EvenRow":"OddRow"),e.each(t.Settings.Columns,function(n,r){if(null==r.Visible||r.Visible){var a=e("<td>");if(r.CSSClass&&a.addClass(r.CSSClass),r.Align&&a.css("text-align",r.Align),!o.section&&o.zone)if("section"==n)a.attr("colspan",2),n="zone";else if("row"==n)return;a.html(r.Formatter?r.Formatter(o,n,o[n],null!=o.FormattedSection?o.FormattedSection:o.section,null!=o.CleanGroupName?o.CleanGroupName:"",null!=o.CleanSectionName?o.CleanSectionName:o.section):o[n]),i.append(a),a.children(".BuyLink").click(function(){var n=e(this).attr("lang"),o=0;i.children("td").each(function(){var t=e(this).children("[lang=Quantity]");if(t.length>0)return o=e(t[0]).val(),!1}),t.Container.trigger("OnTicketSelected",{Id:n,Quantity:o})}),a.children(".Notes").hover(function(){var i=e.trim(e(this).attr("title"));if(""!=i){var n=e(this).position();t.Tooltip.css({top:n.top+20,left:n.left+20}).html(i),t.Tooltip.show(),e(this).attr("title","")}},function(){e(this).attr("title",t.Tooltip.html()),t.Tooltip.hide()})}}),i.hover(function(){t.HighlightSection(o.SectionKey,!0)},function(){t.ResetSection(o.SectionKey,!0)}),i},NoResultsFormatter:function(i){return i.append(e("<td>").attr("colspan",n).html(t.Settings.NoResultsFormatter()))}}),t.Container.trigger("OnAfterListRender")},ShowTooltip:function(i,o,a){if(!t.TooltipZoomed){t.TooltipTimeout&&(clearTimeout(t.TooltipTimeout),t.TooltipTimeout=null),a||(i=t.GetSectionKey(i));var s=t.Sections[i];if(!(t.Settings.AlwaysShowTooltip||s.Active&&0!=s.Quantity))return void t.HideTooltip();var l=t.Settings.TooltipFormatter({Key:s.Key,Section:s.Name,DisplayName:null!=s.DisplayName?s.DisplayName:s.Name,LongName:s.LongName,Mappings:s.Mappings,DisplayGroupName:s.DisplayGroupName,SectionViewThumbnailUrl:s.SectionViewThumbnailUrl,SectionViewUrl:s.SectionViewUrl,Group:t.Groups[s.GroupId],Active:s.Active,Quantity:s.Quantity,MinPrice:s.MinPriceValue,MaxPrice:s.MaxPriceValue,RowDetails:s.RowDetails});if(t.Tooltip.html(l),t.Settings.EnableTooltipSectionView){var c=function(){t.Tooltip.unbind().hide().css("position","absolute"),t.TooltipTimeout=null,t.TooltipZoomed=!1,e(".SectionViewBG").remove()},u=function(i){t.TooltipZoomed=!0,e("<div>").attr("class","SectionViewBG").css("width","100%").css("height","100%").css("position","fixed").css("left",0).css("top",0).css("z-index",999).appendTo(e("body")).click(function(){c()});t.Tooltip.position();t.Tooltip.css("position","fixed").css("opacity",0).css("left",(e(window).outerWidth(!0)-t.SectionViewSize)/2).css("top",(e(window).outerHeight(!0)-t.SectionViewSize/2)/2).animate({opacity:1},"slow"),i.parent().css("width",t.SectionViewSize),i.css("height",Math.round(t.SectionViewSize/2)),i.attr("src",s.SectionViewUrl),e(".SectionViewZoom",t.Tooltip).remove(),i.unbind(),i.css("cursor","auto")},p="Firefox"==r.browser?"-moz-zoom-in":"Chrome"==r.browser||"Safari"==r.browser?"-webkit-zoom-in":"pointer";e("img",t.Tooltip).css("cursor",p).click(function(t){t.preventDefault(),u(e(this))}),e(".SectionViewZoom",t.Tooltip).css("cursor",p).click(function(i){i.preventDefault(),u(e("img",t.Tooltip))}),e(".SectionViewClose",t.Tooltip).click(function(){c()}),t.Tooltip.mouseover(function(){n.MouseOnTooltip=!0}).mouseout(function(){n.MouseOnTooltip=!1})}t.MoveTooltip(s,o),l=e.trim(l),""!=l&&t.Tooltip.show()}},MoveTooltip:function(i,n){var o="BottomRight",r=i.GetCorner(n,o),a=t.Container.position();r.x+=a.left,r.y+=a.top,(r.x+t.Tooltip.width()>a.left+t.Container.outerWidth(!0)||r.x+t.Tooltip.width()>e(window).width())&&(o="BottomLeft",r=i.GetCorner(n,o),r.y+=a.top,r.x=a.left+r.x-t.Tooltip.width()-10),(r.y+t.Tooltip.height()>a.top+t.Container.outerHeight(!0)||r.y+t.Tooltip.height()>e(window).height())&&(o="BottomLeft"==o?"TopLeft":"TopRight",r=i.GetCorner(n,o),"TopRight"==o?r.x+=a.left:r.x=a.left+r.x-t.Tooltip.width()-10,r.y=a.top+r.y-t.Tooltip.height()-10),t.Settings.AnimateTooltip?(t.Tooltip.stop(),t.Tooltip.animate({top:r.y,left:r.x})):t.Tooltip.css("top",r.y).css("left",r.x)},HideTooltip:function(i){if(!t.TooltipTimeout){var o=function(){n.MouseOnTooltip||(e(".SectionViewBG").remove(),t.Tooltip.unbind().hide().css("position","absolute"),i||t.HideSectionView("mouseover"),t.TooltipZoomed=!1)};t.TooltipTimeout=setTimeout(o,800)}},ShowSectionView:function(i,n){if(t.Settings.SectionViewContainer&&t.Settings.SectionViewTrigger==n){var o=t.Sections[i];if(!o.SectionViewUrl)return void t.HideSectionView(n);var r="Approximate View from "+o.LongName,a=e("<div>");if("click"==n){a.addClass("tuMapSectionViewContainer");var r=e("<div>").html(r).append(e("<div>").addClass("CloseButton").click(function(){t.HideSectionView(n)}));a.append(r)}a.append('<img src="'+o.SectionViewUrl+'" alt="'+r+'" style="max-width:100%;"/>'),e(t.Settings.SectionViewContainer).html(a),e(t.Settings.SectionViewContainer).show()}},HideSectionView:function(i){t.Settings.SectionViewContainer&&t.Settings.SectionViewTrigger==i&&(e(t.Settings.SectionViewContainer).html(""),e(t.Settings.SectionViewContainer).hide())},InitSection:function(e,i){1==t.Groups[e.GroupId].SectionCount?e.Key=e.GroupId:e.Key=e.Name.toLowerCase()+"_"+e.GroupId;var r=t.Groups[e.GroupId];e.LongName=(e.DisplayGroupName?(null!=r.DisplayName?r.DisplayName:r.Name)+" ":"")+(null!=e.DisplayName?e.DisplayName:e.Name),e.CleanGroupName=e.DisplayGroupName?null!=r.DisplayName?r.DisplayName:r.Name:"",e.CleanSectionName=null!=e.DisplayName?e.DisplayName:e.Name,t.SectionCounts[e.Name.toLowerCase()]||(t.SectionCounts[e.Name.toLowerCase()]=0),t.SectionCounts[e.Name.toLowerCase()]++,e.IsSectionViewAvailable&&(e.IsSectionViewAvailable=null!=i),e.Active=null==t.Settings.TicketsListContainer&&null==t.Settings.RowSelector,e.IsSectionViewAvailable&&(e.SectionViewThumbnailUrl=i+t.Settings.TooltipSectionViewSize+"X/"+e.Key+".jpg",e.SectionViewUrl=i+t.SectionViewSize+"X/"+e.Key+".jpg"),n.Add(new o.Map.Section(e))},Refresh:function(i){switch(null!=i&&(t.RefreshType=i),t.RefreshType){case"Reset":!t.Settings.TicketsListContainer&&t.Settings.RowSelector?t.Settings.Tickets=null:t.Settings.Tickets?e.each(t.Settings.Tickets,function(e,t){t.SectionKey=null}):t.Settings.Tickets=[],e.extend(t.Settings,t.GetStyles(t.Settings.ColorScheme)),e(this).tuMap(t.Settings);break;case"ProcessTickets":t.ProcessTickets(),t.SortTickets(),t.ShowTickets();break;case"SortTickets":t.SortTickets(),t.ShowTickets();break;case"ShowTickets":t.ShowTickets()}return this},GenerateGroups:function(){var i="";e.each(t.Groups,function(e,t){i+='<div lang="'+t.Id+'" class="tuMapGroup '+(t.ActiveSections>0||t.HasZoneTickets?"":"Disabled")+" "+(t.Selected?"tuMapGroupChecked":"")+'">',i+='<span class="tuMapGroupColor" style="background-color:'+t.Color+';"></span>',i+='<span class="tuMapGroupTitle">'+t.Name+"</span>",i+='<br style="clear:both"/>',i+="</div>"}),e(t.Settings.GroupsContainer).html(i).addClass("tuMapGroupsContainer");var n=0;e(t.Settings.GroupsContainer).children(".tuMapGroup").each(function(){e(this).outerWidth(!0)>n&&(n=Math.round(e(this).outerWidth(!0)))}),t.InteractiveMode?(e(t.Settings.GroupsContainer).addClass("tuMapActiveGroupsContainer"),e(t.Settings.GroupsContainer).children("div").mouseenter(function(){if(e(this).hasClass("Disabled")){var i=e(this).offset();t.Tooltip.html("No Inventory Available").css({top:i.top-t.Tooltip.height(),left:i.left-t.Tooltip.width()}),t.Tooltip.show()}else t.HighlightGroup(e(this).attr("lang"))}).mouseleave(function(){e(this).hasClass("Disabled")?t.Tooltip.hide():t.ResetGroup(e(this).attr("lang"))}).click(function(){if(!e(this).hasClass("Disabled")){var i=e(this).attr("lang"),n=t.Groups[i].Selected;n?(t.Groups[i].Selected=!1,t.ZoneSelected=!1):(t.Groups[i].Selected=!0,t.ZoneSelected=!0);var o=[];t.GetSectionsInGroup(i,{OnlyActive:!0,OnlyUnselected:!1},function(e,i){o.push({Name:i.Name,Active:i.Active}),t.Sections[e].Selected=n,t.ToggleSelection(e,!0,!0)}),t.ProcessTickets(),t.SortTickets(),t.ShowTickets();var r=t.Groups[i];t.Container.trigger("OnGroupClick",{Name:r.Name,Selected:r.Selected,Sections:o})}})):e(t.Settings.GroupsContainer).removeClass("tuMapActiveGroupsContainer");for(var o=e(t.Settings.GroupsContainer).outerWidth(!0),r=e(t.Settings.GroupsContainer+" > DIV").length,a=parseInt(o/n),s=parseInt(r/a)+(r%a>0?1:0);;){var l=parseInt(r/(a-1))+(r%(a-1)>0?1:0);if(!(l<=s))break;a--}n=Math.floor(o/a);var c=0;e(t.Settings.GroupsContainer+" .tuMapGroup").each(function(){0==c&&e(t.Settings.GroupsContainer).append(e("<div>").addClass("TempContainer").css("width",n)),e(t.Settings.GroupsContainer+" > .TempContainer:last").append(e(this)),c++,c==s&&(c=0)}),e(t.Settings.GroupsContainer+" > .TempContainer").removeClass("TempContainer"),e(t.Settings.GroupsContainer).append('<br style="clear:both;"/>')},OnLoad:function(i,o){try{if(1==o.Status){if(n.GetTile=function(e,i,n){if("Interactive"==o.MapType||"Static"==o.MapType){var r="";1==t.Settings.ColorScheme&&(r="WB/");var a=n.createElement("IMG");return a.src=o.MapBaseUrl+o.VenueChartId+"/"+r+i+"_"+e.x+"_"+e.y+".jpg",a.onerror=function(){0!=t.Settings.ColorScheme&&(this.src=o.MapBaseUrl+o.VenueChartId+"/"+i+"_"+e.x+"_"+e.y+".jpg")},a}var a=n.createElement("IMG");return a.src=o.MapBaseUrl+o.MapType+"/"+i+"_"+e.x+"_"+e.y+".jpg",a},n.Resolutions=o.Resolutions,n.AdaptiveDisplay=o.AdaptiveDisplay,n.ZoomLevel=t.ConvertZoom(),n.Initialize(e(this)),o.Groups&&o.Groups.length>0&&e.each(o.Groups,function(e,i){i.ActiveSections=0,t.Groups[i.Id]=i}),null!=o.Sections){var r=o.SectionViewBaseUrl?o.SectionViewBaseUrl+o.VenueChartId+"/":null;t.SectionViewSize=500,t.Settings.SectionViewContainer?t.SectionViewSize=t.CalculateSVWidth(e(t.Settings.SectionViewContainer).width()):(t.Settings.TooltipSectionViewSize=t.CalculateSVWidth(t.Settings.TooltipSectionViewSize),t.SectionViewSize=t.CalculateSVWidth(2*t.Settings.TooltipSectionViewSize)),t.SectionCounts={},t.Sections={},e.each(o.Sections,function(e,i){t.InitSection(i,r)});var a=function(){n.Zoom=t.Settings.ZoomLevel,n.CheckMaxZoom(),n.SetZoom(t.ConvertZoom())},s=1;n.IsOldIE()&&(s=1e3),setTimeout(a,s)}t.OtherSections={},null!=o.OtherSections&&e.each(o.OtherSections,function(e,i){t.OtherSections[i.Name]=i,t.OtherSections[i.Name].Enabled=!1,t.OtherSections[i.Name].Mappings=[]}),t.OtherSections.Unmapped={Name:"Unmapped",Alias:[],IsExactMatch:!1,Enabled:!1,Mappings:[]},t.OnLoadContinue(o)}else if(t.Settings.FailoverMapUrl){var l=e("<img>").attr("src",t.Settings.FailoverMapUrl).attr("alt","Venue Map").css("max-width",t.Container.outerWidth(!0)).load(function(){t.OnLoadContinue(o)});e("<div>").css("text-align","center").append(l).appendTo(t.Container)}}catch(e){throw t.Container.trigger("OnError",{Code:-1,Message:e.message}),t.MapError=!0,e}},OnLoadContinue:function(i){t.InteractiveMode="Interactive"==i.MapType,t.InteractiveMode||null!=i.OtherSection||(t.OtherSections.Parking={Name:"Parking",Alias:["parking","park"],IsExactMatch:!1,Enabled:!0,Mappings:[]}),t.ProcessTickets(),t.SortTickets(),t.InteractiveMode&&e.each(t.OtherSections,function(e,i){i.Enabled&&n.AddMapControl(i.Name,function(n){t.FilterTickets(e,n,!0),t.Container.trigger("OnControlClick",{Name:i.Name,Selected:n,Mappings:i.Mappings})},!0)}),t.GenerateFilters(),t.ShowTickets(),1==i.Status?t.Container.trigger("OnInit",{MapType:i.MapType,ResolvedBy:i.ResolvedBy}):(t.Container.trigger("OnError",{Code:i.ErrorCode,Message:i.Error}),t.MapError=!0)},CalculateSVWidth:function(e){var t=[250,500,1e3,1500];if(e<=t[0])return t[0];for(var i=0;i<4;i++){if(i==t.length-1)return t[t.length-1];if(e>=t[i]&&e<t[i+1])return e-t[i]<t[i+1]-e?t[i]:t[i+1]}},GenerateFilters:function(){if(t.Settings.TicketsListContainer){t.Container.trigger("OnBeforeListRender"),e(t.Settings.TicketsListContainer).css("overflow","visible"),e(t.Settings.TicketsListContainer).html("");var i=e(t.Settings.TicketsListContainer).outerHeight(!0),n=0;if(t.PreferredFlag||t.eTicketFlag){var o=e("<div>").addClass("tuMapPreferredFilter");if(t.PreferredFlag){var r=e("<div>").addClass("tuMapPreferred");r.append(e("<span>").addClass("Icon"));var a=e("<input>").attr("type","checkbox").attr("checked",t.Settings.PreferredFirst?'checked="checked"':"");a.change(function(){t.Settings.PreferredFirst=e(this).is(":checked"),t.SortTickets(),t.ShowTickets()}),r.append(a),r.append(e("<span>").html(t.Settings.PreferredText)),o.append(r)}if(t.eTicketFlag){var s=e("<div>").addClass("tuMapeTicket");s.append(e("<span>").addClass("Icon")),s.append(e("<span>").html("E-Ticket")),o.append(s)}e(t.Settings.TicketsListContainer).append(o),e("<br>").css("clear","both").appendTo(o),i>0&&(n=o.outerHeight(!0))}t.vTableContainer=e("<div>"),e(t.Settings.TicketsListContainer).append(t.vTableContainer),0==i&&(i=t.Container.outerHeight(!0),t.Settings.GroupsContainer&&(i+=e(t.Settings.GroupsContainer).outerHeight(!0)),i-=Math.abs(t.Container.offset().top-e(t.vTableContainer).offset().top)),i-=n,t.vTableContainer.height(i)}},Extend:function(i){return e.extend(!0,t,i),this},GetStyles:function(e){return 0==e?{HighlightStyle:{strokeColor:"#FFFFFF",strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7}}:{HighlightStyle:{strokeColor:"#333333",strokeWeight:2,fillColor:"#FFFF00",fillOpacity:.5},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7}}},Initialize:function(i){t.Groups={},t.Sections={},t.OtherSections={},t.Selection=[],t.RefreshType="None",null!=i.ColorScheme&&e.extend(t.defaults,t.GetStyles(i.ColorScheme)),
t.Settings=e.extend({},t.defaults,i),t.Container=e(this),t.Container.unbind(),e(".tuMapTooltip").remove();var n=t.Container.position();t.Tooltip=e('<div class="tuMapTooltip"></div>').insertAfter(t.Container).css({position:"absolute",display:"none","z-index":2e4,left:n.left,top:n.top}),t.Container.bind("OnTicketSelected",t.Settings.OnTicketSelected),t.Container.bind("OnMouseover",t.Settings.OnMouseover),t.Container.bind("OnMouseout",t.Settings.OnMouseout),t.Container.bind("OnClick",t.Settings.OnClick),t.Container.bind("OnGroupClick",t.Settings.OnGroupClick),t.Container.bind("OnLoad",t.OnLoad),t.Container.bind("OnInit",t.Settings.OnInit),t.Container.bind("OnBeforeListRender",t.Settings.OnBeforeListRender),t.Container.bind("OnAfterListRender",t.Settings.OnAfterListRender),t.Container.bind("OnError",t.Settings.OnError),t.Container.bind("OnReset",t.Settings.OnReset),t.Container.bind("OnControlClick",t.Settings.OnControlClick);var o="Version=3.1.12&MapSet="+t.Settings.MapSet+"&MapType="+t.Settings.MapType+"&EnableGroups="+(null!=t.Settings.GroupsContainer).toString()+"&Domain="+window.location.host+"&AutoSwitchToStatic="+t.Settings.AutoSwitchToStatic;if(null==t.Settings.MapId&&null==t.Settings.EventId&&null==t.Settings.EventInfo)throw"EventInfo, MapId or EventId is Required";return null!=t.Settings.EventId&&(o="EventId="+t.Settings.EventId+"&SeatingChartAutoCorrect="+t.Settings.SeatingChartAutoCorrect+"&"+o),null!=t.Settings.MapId&&(o="MapId="+t.Settings.MapId+"&"+o),null!=t.Settings.EventInfo&&(o="Venue="+escape(t.Settings.EventInfo.Venue)+"&Event="+escape(t.Settings.EventInfo.EventName)+"&EventDate="+t.Settings.EventInfo.EventDate+"&"+o),e.ajax({url:t.Settings.ServiceUrl,dataType:"jsonp",crossDomain:!0,data:o,type:"POST",success:function(i){null!=t.Settings.GroupsContainer&&e(t.Settings.GroupsContainer).html(""),null!=t.Settings.TicketsListContainer&&e(t.Settings.TicketsListContainer).html(""),t.Container.html(""),t.Container.trigger("OnLoad",i)},error:function(){}}),this}},i={defaults:{Rows:0,TableFormatter:function(e){return e},ColumnsFormatter:function(t){return t.append(e("<th>").text("Column"))},RowFormatter:function(t,i){return t.attr("lang",i).append(e("<td>").text("Row"+i))},NoResultsFormatter:function(){}},Initialize:function(t){if(i.Body=null,i.Fillers=[],i.RowData=[],i.RowHeight=0,i.Settings=e.extend({},i.defaults,t),i.Settings.Container.unbind(),i.Settings.Container.html("").attr("class","tuMapTicketList"),i.ColTable=i.Settings.TableFormatter(e("<table>").attr("cellpadding",3).attr("cellspacing",0).attr("style","width:100%;")),i.ColTable.append(e("<thead>").append(i.Settings.ColumnsFormatter(e("<tr>")))),i.ColTable.appendTo(i.Settings.Container),i.TableContainer=e("<div>").css("overflow","auto").css("height",i.Settings.Container.height()-i.ColTable.height()-1),i.TableContainer.appendTo(i.Settings.Container),i.Table=i.ColTable.clone(),i.ColTable.css("table-layout","fixed"),i.Body=i.Table.append("<tbody>"),i.Table.appendTo(i.TableContainer),0==i.Settings.Rows)return i.Body.append(i.Settings.NoResultsFormatter(e("<tr>"))),void i.AdjustColumns();for(var n=0;n<i.Settings.Rows;n++)if(i.RowData[n]={Created:!0,tr:e("<tr>")},i.Body.append(i.Settings.RowFormatter(i.RowData[n].tr,n)),i.Table.height()>i.TableContainer.height()){i.RowHeight=e(i.Table.find("tr")[1]).height();var o=e("<tr>").attr("height",i.Settings.Rows*i.RowHeight);i.Body.append(o),i.Fillers.push({startIndex:n+1,endIndex:i.Settings.Rows-1,tr:o}),i.CreateRow(0,n);break}i.AdjustColumns(),i.TableContainer.scroll(function(){var t=e(this).scrollTop();i.scrollTop!=t&&(null!=i.verticalScrollHandle&&clearTimeout(i.verticalScrollHandle),i.verticalScrollHandle=setTimeout(function(){i.RenderRows()},10),i.scrollTop=t)})},CreateRow:function(t,n){for(var o=i.RowData,r=t;r<=n;r++)null==o[r]&&(o[r]={});for(var a=!1,r=t;r<=n;r++)if(null==o[r].tr){a=!0;break}if(a){for(var s=(i.Body,i.RowHeight),l=i.Fillers,c=[],r=l.length;r--;){var u=l[r];t<=u.endIndex&&n>=u.startIndex&&c.push(u)}for(var r=c.length;r--;){for(var u=c[r],p=t>=u.startIndex?t:u.startIndex,S=n<=u.endIndex?n:u.endIndex,h=p;h<=S;h++){var d=o[h];d.tr=e("<tr>").height(s+"px").insertBefore(u.tr)}var g=!1,f=u.startIndex;if(S<u.endIndex&&(u.startIndex=S+1,u.tr.height((u.endIndex-u.startIndex+1)*s+"px"),g=!0),p>f)if(g){var u={startIndex:f,endIndex:p-1,tr:e("<tr>")};u.tr.height((u.endIndex-u.startIndex+1)*s+"px").insertBefore(o[p].tr),l.push(u)}else u.endIndex=p-1,u.tr.height((u.endIndex-u.startIndex+1)*s+"px").insertBefore(o[p].tr),g=!0;if(!g){for(var h=l.length;h--;)if(u==l[h]){l.splice(h,0);break}u.tr.remove()}}}},RenderRows:function(){if(0!=i.Settings.Rows){var e=Math.floor(i.TableContainer.scrollTop()/i.RowHeight)-5,t=Math.ceil((i.TableContainer.scrollTop()+i.TableContainer.outerHeight(!0))/i.RowHeight)+5;e<0&&(e=0),t>i.Settings.Rows-1&&(t=i.Settings.Rows-1),i.CreateRow(e,t);for(var n=e;n<=t;n++){var o=i.RowData[n];o.Created!==!0&&(i.Settings.RowFormatter(o.tr,n),o.Created=!0)}i.AdjustColumns()}},AdjustColumns:function(){for(var t=i.Table.find("tr:first").children(),n=i.ColTable.find("tr:first").children(),o=0;o<t.length-1;o++)e(n[o]).width(e(t[o]).width());i.Table.css("margin-top",-e(t[0]).outerHeight(!0)-1)}},n={TileSize:100,BaseTileSize:100,OnMouseOver:function(e,i,n){n&&(n.Active&&!n.Selected&&n.SetStyle(t.Settings.HighlightStyle),i&&t.ShowTooltip(n.Key,i,!0),t.Container.trigger("OnMouseover",{Active:n.Active,Selected:n.Selected,Key:n.Key,Name:n.Name,DisplayName:n.DisplayName,DisplayGroupName:n.DisplayGroupName,ExactMatchAlias:n.ExactMatchAlias,Alias:n.Alias,Group:t.Groups[n.GroupId],SectionViewAvailable:n.IsSectionViewAvailable,SectionViewThumbnailUrl:n.SectionViewThumbnailUrl,SectionViewUrl:n.SectionViewUrl,Mappings:n.Mappings,MousePosition:i,RowDetails:n.RowDetails,RowStart:n.RowStart,RowEnd:n.RowEnd}))},OnMouseOut:function(e,i,n){n&&(n.Active&&!n.Selected&&n.SetStyle(t.Settings.NormalStyle),i&&t.HideTooltip(),t.Container.trigger("OnMouseout",{Active:n.Active,Selected:n.Selected,Key:n.Key,Name:n.Name,DisplayName:n.DisplayName,DisplayGroupName:n.DisplayGroupName,ExactMatchAlias:n.ExactMatchAlias,Alias:n.Alias,Group:t.Groups[n.GroupId],SectionViewAvailable:n.IsSectionViewAvailable,SectionViewThumbnailUrl:n.SectionViewThumbnailUrl,SectionViewUrl:n.SectionViewUrl,Mappings:n.Mappings,MousePosition:i,RowDetails:n.RowDetails,RowStart:n.RowStart,RowEnd:n.RowEnd}))},OnMouseMove:function(){},OnClick:function(e,i,n){t.HideTooltip(!0),n&&n.Active&&(t.ToggleSelection(n.Key,!0),t.Container.trigger("OnClick",{Active:n.Active,Selected:n.Selected,Key:n.Key,Name:n.Name,DisplayName:n.DisplayName,DisplayGroupName:n.DisplayGroupName,ExactMatchAlias:n.ExactMatchAlias,Alias:n.Alias,Group:t.Groups[n.GroupId],SectionViewAvailable:n.IsSectionViewAvailable,SectionViewThumbnailUrl:n.SectionViewThumbnailUrl,SectionViewUrl:n.SectionViewUrl,Mappings:n.Mappings,RowDetails:n.RowDetails,RowStart:n.RowStart,RowEnd:n.RowEnd}))},OnReset:function(){e.each(t.Selection,function(e,i){t.Sections[i]&&(t.Sections[i].Selected=!1)}),t.Selection=[],t.ZoneSelected=!1,e.each(t.Groups,function(e){t.Groups[e].Selected=!1}),null!=t.BlinkTimer&&(clearInterval(t.BlinkTimer),t.BlinkTimer=null),e(".tuMapControlSelected").each(function(){e(this).removeClass("tuMapControlSelected")}),e(".tuMapControlBlink").each(function(){e(this).removeClass("tuMapControlBlink")}),n.SetCenter(new o.Map.Point(0,0)),n.Zoom=t.Settings.ZoomLevel,n.CheckMaxZoom(),n.SetZoom(t.ConvertZoom()),t.ProcessTickets(),t.SortTickets(),t.ShowTickets(),t.Container.trigger("OnReset")},GetTile:function(){},Container:null,Wrapper:null,Canvas:null,GCanvas:null,CanvasContext:null,GCanvasContext:null,GhostSections:{},CurrentShape:null,TranslatePos:null,StartDragOffset:{},BaseUrl:"http://data.ticketutils.com/Charts/",ZoomLevel:5,Side:500,Tiles:[],IsOldIE:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1&&parseInt(e.split("msie")[1])<=8},CheckMaxZoom:function(){t.Settings.MaxZoom>0&&n.Zoom>t.Settings.MaxZoom&&(n.Zoom=t.Settings.MaxZoom)},DetectZoomLevel:function(e){for(var i=0;i<n.Resolutions.length;i++)if(n.Resolutions[i]>e){i>0?n.Zoom=e>=n.Resolutions[i-1]+(n.Resolutions[i]-n.Resolutions[i-1])*t.Settings.AdaptiveThreshold?i+1:i:n.Zoom=1;break}n.CheckMaxZoom(),n.ZoomLevel=n.Resolutions[n.Zoom-1]/100,t.Settings.ZoomLevel=n.Zoom},Initialize:function(i){var r=i.outerHeight(!0),a=i.outerWidth(!0);if(0==a||0==r)if(a>0)r=a;else if(r>0)a=r;else{var s=i.clone().css("postion","absolute").css("display","block").css("left","-1000").css("top","-1000");e("body").append(s),a=s.outerWidth(!0),r=s.outerHeight(!0),s.remove(),0!=a&&0!=r||(r=n.Side*n.ZoomLevel,a=r)}n.AdaptiveDisplay?n.DetectZoomLevel(a):(n.Zoom=t.Settings.ZoomLevel,n.CheckMaxZoom()),n.Container=e("<div>").attr("class","tuMapContainer").attr("style","position:relative;margin:auto;overflow:hidden;width:"+a+"px;height:"+r+"px").appendTo(i).disableSelection().mousemove(function(t){if(n.MouseDown)return n.CurrentShape&&n.Wrapper.trigger("OnMouseOut",[n.GetAbsolutePosition(t),n.CurrentShape]),e(n.Canvas).css("cursor","move"),n.CurrentShape=null,n.TranslatePos.x=t.clientX-n.StartDragOffset.x,n.TranslatePos.y=t.clientY-n.StartDragOffset.y,void n.Translate()}),n.TranslatePos=new o.Map.Point(0,0),n.Side=n.BaseTileSize*n.ZoomLevel,n.Wrapper=e("<div>").attr("style","z-index:0;position:absolute;width:"+n.Side+"px;height:"+n.Side+"px").disableSelection().appendTo(n.Container).mousedown(function(e){n.MouseDown=!0,n.StartDragOffset.x=e.clientX-n.TranslatePos.x,n.StartDragOffset.y=e.clientY-n.TranslatePos.y}).mouseup(function(){n.MouseDown=!1,n.Dragging=!1,e(n.Canvas).css("cursor","auto")}).mouseover(function(){n.MouseDown=!1,n.Dragging=!1}).mouseout(function(){return n.MouseDown=!1,n.Dragging=!1,!1}),n.GenerateTiles();var l=e("<canvas />").attr("style","position:absolute; top:0; left:0; z-index:1").disableSelection().appendTo(n.Wrapper);if(n.Canvas=l[0],n.Canvas.width=n.Wrapper.width(),n.Canvas.height=n.Wrapper.height(),n.Canvas.onselectstart=function(){return!1},window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(n.Canvas),n.CanvasContext=n.Canvas.getContext("2d"),!n.IsOldIE()){var c=e("<canvas />");n.GCanvas=c[0],n.GCanvas.width=n.Wrapper.width(),n.GCanvas.height=n.Wrapper.height(),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(n.GCanvas),n.GCanvasContext=n.GCanvas.getContext("2d")}n.ZoomControls=e("<div>").addClass("ZoomControls").appendTo(n.Container),e("<div>").addClass("ZoomIn").appendTo(n.ZoomControls).click(function(){n.ZoomIn()}),e("<div>").addClass("ZoomOut").appendTo(n.ZoomControls).click(function(){n.ZoomOut()}),n.ResetContainer=e("<div>").attr("style","position:absolute;right:5px;top:5px;").appendTo(n.Container),n.ResetButton=e("<div>").addClass("tuMapControl").html(t.Settings.ResetButtonText).appendTo(n.ResetContainer).click(function(){t.Reset()}),e(".tuMapControlsContainer").remove(),"Inside"==t.Settings.ControlsPosition?n.ControlsContainer=e('<div class="tuMapControlsContainer">').attr("style","text-align:center;bottom:0;left:50%;position:absolute;").appendTo(n.Container):n.ControlsContainer=e('<div class="tuMapControlsContainer">').attr("style","text-align:center;margin:0 auto;").insertAfter(i),n.IsOldIE()&&(n.CallbackFunctionId="TMCB"+Math.floor(1e6*Math.random())+1e3,window[n.CallbackFunctionId]=function(e,i,o,r){var a=(n.Wrapper.offset(),{x:e.x,y:e.y});"out"==o?n.TriggerEvent(a,null):"click"==o?n.Wrapper.trigger("OnClick",[a,null!=n.CurrentShape?n.CurrentShape:t.Sections[r]]):n.TriggerEvent(a,r)});var u=function(e){if(!n.Dragging){var i=n.GetAbsolutePosition(e),o=n.GetSectionUnderMouse(e);if(o){var r=t.Sections[o];r&&n.Wrapper.trigger("OnClick",[i,r])}}};if(l.bind("mouseup",function(e){u(e)}).bind("mousemove",function(e){n.IsOldIE()||n.TriggerEvent(n.GetAbsolutePosition(e),n.GetSectionUnderMouse(e))}).bind("contextmenu",function(e){e.preventDefault()}),jQuery().hammer){var p=l.hammer({prevent_default:!0,drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:20,tap:!0,tap_always:!0,show_touches:!0,prevent_mouseevents:!0});p.on("tap",function(e){u(e.gesture.center)}).on("pinch",function(e){var t=Math.ceil(n.Zoom*e.gesture.scale);t<1?t=1:t>n.Resolutions.length&&(t=n.Resolutions.length),t!=n.Zoom&&(n.Zoom=t,n.SetZoom(n.Resolutions[n.Zoom-1]/100))}).on("drag",function(e){n.TranslatePos.x=e.gesture.center.pageX-n.StartDragOffset.x,n.TranslatePos.y=e.gesture.center.pageY-n.StartDragOffset.y,n.Translate()}).on("dragstart",function(e){n.Dragging=!0,n.StartDragOffset.x=e.gesture.center.pageX-n.TranslatePos.x,n.StartDragOffset.y=e.gesture.center.pageY-n.TranslatePos.y}).on("dragend",function(){n.Dragging=!1})}return n.Wrapper.bind("OnMouseOver",n.OnMouseOver),n.Wrapper.bind("OnMouseOut",n.OnMouseOut),n.Wrapper.bind("OnClick",n.OnClick),n.Wrapper.bind("OnMouseMove",n.OnMouseMove),n.Wrapper.bind("OnReset",n.OnReset),n.SetCenter(new o.Map.Point(0,0)),this},AddMapControl:function(i,o,r){e("<div>").addClass("tuMapControl").html(i).appendTo(n.ControlsContainer).click(function(){var t=!0;r&&(e(this).hasClass("tuMapControlSelected")||e(this).hasClass("tuMapControlBlink")?(e(this).removeClass("tuMapControlSelected"),e(this).removeClass("tuMapControlBlink"),t=!1):e(this).addClass("tuMapControlSelected")),o(t)}),"Inside"==t.Settings.ControlsPosition?n.ControlsContainer.css("margin-left",0-parseInt(n.ControlsContainer.width()/2)):n.ControlsContainer.css("padding","3px")},GetAbsolutePosition:function(e){var t=n.Container.offset();return new o.Map.Point(e.pageX-t.left,e.pageY-t.top)},GetSectionUnderMouse:function(e){if(!n.IsOldIE()){var t=n.Wrapper.offset(),i=new o.Map.Point(e.pageX-t.left,e.pageY-t.top),r=n.GCanvasContext.getImageData(i.x,i.y,1,1).data,a="#"+("000000"+n.RGBToHex(r[0],r[1],r[2])).slice(-6);return n.GhostSections[a]}},GenerateTiles:function(){for(var t=0;t<this.Tiles.length;t++)this.Tiles[t].remove();var i=1,r=n.BaseTileSize*n.ZoomLevel;n.ZoomLevel<=5?(i=1,n.TileSize=r):n.ZoomLevel<=12?(i=2,n.TileSize=r/2):(i=r/500,n.TileSize=500);for(var t=0;t<i;t++)for(var a=0;a<i;a++){var s=n.GetTile(new o.Map.Point(t,a),n.ZoomLevel,document);e(s).attr("style","position:absolute;top:"+a*n.TileSize+"px;left:"+t*n.TileSize+"px;z-index:0;width:"+n.TileSize+"px;height:"+n.TileSize+"px;").appendTo(n.Wrapper).disableSelection(),this.Tiles.push(e(s))}},Trigger:function(e,t){n.Wrapper.trigger(e,[null,t])},TriggerEvent:function(i,o){o?(null==n.CurrentShape?(e(n.Canvas).css("cursor","pointer"),n.Wrapper.trigger("OnMouseOver",[i,t.Sections[o]])):n.CurrentShape.Key==o?n.Wrapper.trigger("OnMouseMove",[i,t.Sections[o]]):(n.Wrapper.trigger("OnMouseOut",[i,n.CurrentShape]),n.Wrapper.trigger("OnMouseOver",[i,t.Sections[o]])),n.CurrentShape=t.Sections[o]):null!=n.CurrentShape&&(n.Wrapper.trigger("OnMouseOut",[i,n.CurrentShape]),e(n.Canvas).css("cursor","move"),n.CurrentShape=null)},Add:function(e){for(t.Sections[e.Key]=e;;)if(e.SetGhostColor(),!n.GhostSections[e.GhostColor]){n.GhostSections[e.GhostColor]=e.Key;break}},SetZoom:function(e){var t=n.ZoomLevel;n.ZoomLevel=e,n.ZoomLevel>20?n.ZoomLevel=20:n.ZoomLevel<3&&(n.ZoomLevel=3),n.Side=n.BaseTileSize*n.ZoomLevel,n.Wrapper.width(n.Side).height(n.Side),n.GenerateTiles(),n.Canvas.width=n.Side,n.Canvas.height=n.Side,n.CanvasContext.clearRect(0,0,n.Side,n.Side),n.IsOldIE()?(t==n.ZoomLevel&&(t=1),n.CanvasContext.scale(n.ZoomLevel/t,n.ZoomLevel/t)):(n.GCanvas.width=n.Side,n.GCanvas.height=n.Side,n.GCanvasContext.clearRect(0,0,n.Side,n.Side),n.GCanvasContext.scale(n.ZoomLevel,n.ZoomLevel),n.CanvasContext.scale(n.ZoomLevel,n.ZoomLevel)),n.SetCenter(new o.Map.Point(n.Center.x*n.ZoomLevel/t,n.Center.y*n.ZoomLevel/t)),n.Draw()},GetCenter:function(e){var i=t.Sections[e];if(i)return i.GetCenter()},ZoomIn:function(){return n.Zoom++,n.Zoom>n.Resolutions.length?(n.Zoom=n.Resolutions.length,!1):(n.CheckMaxZoom(),n.SetZoom(n.Resolutions[n.Zoom-1]/100),!0)},ZoomOut:function(){return n.Zoom--,n.Zoom<=0?(n.Zoom=1,!1):(n.SetZoom(n.Resolutions[n.Zoom-1]/100),!0)},Translate:function(e){if(n.TranslatePos.x>0?(n.TranslatePos.x=n.Wrapper.outerWidth(!0)<n.Container.outerWidth(!0)?(n.Container.outerWidth(!0)-n.Wrapper.outerWidth(!0))/2:0,e=!1):n.TranslatePos.x+n.Wrapper.outerWidth(!0)-n.Container.outerWidth(!0)<0&&(n.TranslatePos.x=n.Container.outerWidth(!0)-n.Wrapper.outerWidth(!0),e=!1),n.TranslatePos.y>0?(n.TranslatePos.y=n.Wrapper.outerHeight(!0)<n.Container.outerHeight(!0)?(n.Container.outerHeight(!0)-n.Wrapper.outerHeight(!0))/2:0,e=!1):n.TranslatePos.y+n.Wrapper.outerHeight(!0)-n.Container.outerHeight(!0)<0&&(n.TranslatePos.y=n.Container.outerHeight(!0)-n.Wrapper.outerHeight(!0),e=!1),n.Wrapper.css("left",n.TranslatePos.x+"px").css("top",n.TranslatePos.y+"px"),!e){var t=new o.Map.Point(n.Container.outerWidth(!0)/2,n.Container.outerHeight(!0)/2),i=new o.Map.Point(n.Wrapper.outerWidth(!0)/2,n.Wrapper.outerHeight(!0)/2);n.Center=new o.Map.Point(t.x-i.x-n.TranslatePos.x,t.y-i.y-n.TranslatePos.y)}},SetCenter:function(e){n.Center=e;var t=new o.Map.Point(n.Container.outerWidth(!0)/2,n.Container.outerHeight(!0)/2),i=new o.Map.Point(n.Wrapper.outerWidth(!0)/2,n.Wrapper.outerHeight(!0)/2);n.TranslatePos=new o.Map.Point(t.x-i.x-e.x,t.y-i.x-e.y),n.Translate(!0)},Draw:function(){for(var e in t.Sections){var i=t.Sections[e];i.hasOwnProperty("Draw")&&i.Draw()}},RGBToHex:function(e,t,i){if(e>255||t>255||i>255)throw"Invalid Color Component";return(e<<16|t<<8|i).toString(16)},HexToRGB:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},o=o||{Map:{}};o.Map.Section=function(i){e.extend(this,i),this.Quantity=0,this.MinPrice=9007199254740992,this.MaxPrice=0,this.MinPriceValue="",this.MaxPriceValue="",this.Style={},e.extend(this.Style,this.Active?t.Settings.NormalStyle:t.Settings.InactiveStyle),this.Selected=!1,this.Mappings=[],this.Coords=[],this.Markers=[];var r=this;e.each(this.Coordinates,function(e,t){r.Coords.push(new o.Map.Point(t[0],t[1]))}),delete this.Coordinates,this.GetOpaqueColor=function(e,t){if(1==t)return e;var i=n.HexToRGB(e);return e="rgba("+i.r+","+i.g+","+i.b+","+t+")"},this.Draw=function(){this.DrawOnContext(n.CanvasContext,this.Style),n.IsOldIE()||this.DrawOnContext(n.GCanvasContext,{fillColor:this.GhostColor,fillOpacity:1})},this.IsStyleChanged=function(e){return this.Style.fillColor!=e.fillColor||this.Style.fillOpacity!=e.fillOpacity||this.Style.strokeColor!=e.strokeColor||this.Style.strokeWeight!=e.strokeWeight},this.GetCenter=function(){var t=0,i=0,r=0;return e.each(this.Coords,function(e,o){r++,t+=o.x*n.ZoomLevel,i+=o.y*n.ZoomLevel}),t/=r,i/=r,new o.Map.Point(t,i)},this.GetCorner=function(t,i){if("Dynamic"==i)return t;var r=null,a=1e5,s=500*n.ZoomLevel,l=500*n.ZoomLevel;switch(i){case"TopRight":l=-l;break;case"TopLeft":s=-s,l=-l;break;case"BottomLeft":s=-s}var c=1e4,u=0,p=1e4,S=0;e.each(this.Coords,function(e,i){i.x<c?c=i.x:i.x>u&&(u=i.x),i.y<p?p=i.y:i.y>S&&(S=i.y);var h=Math.sqrt(Math.pow(i.x-(t.x+s),2)+Math.pow(i.y-(t.y+l),2));h<a&&(a=h,r=new o.Map.Point(i.x*n.ZoomLevel+n.TranslatePos.x,i.y*n.ZoomLevel+n.TranslatePos.y))});var h=5;switch((u-c>20||S-p>20)&&(r={x:t.x,y:t.y},h=-5),i){case"TopRight":r.y+=h,r.x-=h;break;case"TopLeft":r.y+=h,r.x+=h;break;case"BottomLeft":r.y-=h,r.x+=h;break;default:r.y-=h,r.x-=h}return r},this.AddMarker=function(e,t,i){t||(t=this.GetCenter()),i||(i={x:0,y:0});var n=this,o=new Image;o.src=e,o.onload=function(){n.Markers.push({Image:o,Point:t,Adjustment:i}),n.DrawMarkers()}},this.DrawMarkers=function(){e.each(this.Markers,function(e,t){n.CanvasContext.drawImage(t.Image,(t.Point.x-t.Image.width)/n.ZoomLevel-t.Adjustment.x,(t.Point.y-t.Image.height)/n.ZoomLevel-t.Adjustment.y,t.Image.width/n.ZoomLevel,t.Image.height/n.ZoomLevel)})},this.RemoveMarker=function(e){for(var t=0;t<this.Markers.length;t++)if(this.Markers[t].Point.x==e.x&&this.Markers[t].Point.y==e.y){this.Markers.splice(t,1);break}this.Clear(n.CanvasContext),this.DrawOnContext(n.CanvasContext,this.Style)},this.SetStyle=function(t){if(this.IsStyleChanged(t))if(n.IsOldIE()){e.extend(this.Style,t);var i=document.getElementById(this.Key);i&&(i.filled=this.Style.fillOpacity>0,void 0!=typeof i.fill&&null!=i.fill&&(i.fill.opacity=100*this.Style.fillOpacity+"%"),i.fillcolor=this.Style.fillColor,i.strokecolor=this.Style.strokeColor,i.strokeweight=this.Style.strokeWeight,i.stroked=this.Style.strokeWeight>0)}else this.Clear(n.CanvasContext),e.extend(this.Style,t),this.DrawOnContext(n.CanvasContext,this.Style)},this.Clear=function(e){e.save(),e.globalCompositeOperation="destination-out",this.DrawOnContext(n.CanvasContext,{fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:this.Style.strokeWeight,fillOpacity:1}),e.restore()},this.DrawOnContext=function(e,t){e.save(),e.beginPath(),e.moveTo(this.Coords[0].x,this.Coords[0].y);for(var i=0;i<this.Coords.length;i++)e.lineTo(this.Coords[i].x,this.Coords[i].y);e.closePath(),n.IsOldIE()?(e.fillStyle=this.GetOpaqueColor(t.fillColor,t.fillOpacity),e.lineWidth=t.strokeWeight/n.ZoomLevel,e.strokeStyle=t.strokeColor,e.stroke(!0,n.CallbackFunctionId,this.Key)):(t.fillOpacity>0&&(e.fillStyle=this.GetOpaqueColor(t.fillColor,t.fillOpacity),e.fill()),t.strokeWeight>0&&(e.lineWidth=t.strokeWeight/n.ZoomLevel,e.strokeStyle=t.strokeColor,e.stroke())),this.Markers.length>0&&t.fillColor!=this.GhostColor&&this.DrawMarkers(),e.restore()},this.SetGhostColor=function(){this.GhostColor="#"+("000"+(Math.random()*(1<<24)|0).toString(16)).substr(-6)}},o.Map.Point=function(e,t){this.x=e,this.y=t},e.fn.tuMap=function(i){return null!=t[i]?"function"==typeof t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):t[i]:"object"!=typeof i&&i?void e.error("Method "+i+" does not exist"):t.Initialize.apply(this,arguments)};var r={init:function(){this.browser=this.searchString(this.dataBrowser)||"Unknown",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(i.indexOf(e[t].subString)!=-1)return e[t].identity}else if(n)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t!=-1)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"}]};r.init(),e.fn.disableSelection=function(){return this.each(function(){e(this).attr("unselectable","on").css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}}(jQuery);