!function(d){var f={defaults:{MapId:null,MapSet:"tu",MapType:"Interactive",EventId:null,AutoSwitchToStatic:!0,SeatingChartAutoCorrect:!0,FailoverMapUrl:null,Columns:{flag:{Title:"",Sortable:!1,Visible:!1,Width:50,Formatter:function(i){var h="";return i.preferred&&(h+='<span class="tuMapPreferred"></span>'),i.eticket&&(h+='<span class="tuMapeTicket"></span>'),h}},section:{Title:"Section",Sortable:!0,Width:150,SortType:"string",Visible:!0},row:{Title:"Row",Sortable:!0,SortType:"string",Visible:!0},quantity:{Title:"Quantity",Sortable:!0,SortType:"numeric",Visible:!0,Formatter:function(i,g,j){var h="";if("object"==typeof j){var h='<select lang="Quantity">';d.each(j,function(l,k){h+="<option>"+k+"</option>"}),h+="</select>"}else h=j+'<input type="hidden" value="'+j+'" lang="Quantity"/>';return h}},price:{Title:"Price",Sortable:!0,SortType:"numeric",Visible:!0},notes:{Title:"",Width:35,Sortable:!1,Visible:!0,Formatter:function(h,g,i){return""!=i?'<span class="Notes" title="'+i+'"></span>':""}},action:{Title:"",Sortable:!1,Visible:!0,Formatter:function(h){return'<a class="BuyLink" href="javascript:void(0);" lang="'+h.id+'">'+f.Settings.BuyButtonText+"</a>"}}},DisplayListHeader:!0,PreferredFirst:!1,Tickets:[],TicketsFilter:{MinPrice:0,MaxPrice:0,Quantity:0,Ids:null},TicketsSort:{Column:"section",Order:"ASC",SortType:"string"},TicketsListContainer:null,SectionViewContainer:null,SectionViewTrigger:"mouseover",TooltipSectionViewSize:"250",EnableTooltipSectionView:!0,AlwaysShowTooltip:!1,AnimateTooltip:!1,SingleSectionSelection:!1,RowSelector:null,SectionSelector:null,RowNumberSelector:null,PriceSelector:null,QuantitySelector:null,eTicketSelector:null,BuyButtonText:"Select",PreferredText:"Display Preferred Inventory First",ResetButtonText:"Reset",GroupsContainer:null,ControlsPosition:"Inside",ZoomLevel:3,AdaptiveThreshold:1,MaxZoom:0,BgColor:"#FFFFFF",ServiceUrl:"http://imap.ticketutils.net",OnInit:null,OnBeforeListRender:null,OnAfterListRender:null,OnClick:null,OnGroupClick:null,OnMouseover:null,OnMouseout:null,OnError:null,OnReset:null,OnTicketSelected:null,OnControlClick:null,ColorScheme:0,HighlightStyle:{strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7},NoResultsFormatter:function(){return"No Tickets Found"},TooltipFormatter:function(i){var g='<div style="width:'+f.Settings.TooltipSectionViewSize+'px;">',h=i.LongName;return g+='<span class="SectionColor" style="background-color:'+i.Group.Color+';"></span>',g+='<span class="Title">'+h+"</span>",""!=i.RowDetails&&(g+='<span class="RowDetails">Row: '+i.RowDetails+"</span>"),g+='<span class="SectionViewClose"></span><br/>',i.SectionViewThumbnailUrl&&(f.ShowSectionView(i.Key,"mouseover"),f.Settings.EnableTooltipSectionView&&(g+='<img src="'+i.SectionViewThumbnailUrl+'" alt="'+h+'" style="width:100%;height:'+Math.round(f.Settings.TooltipSectionViewSize/2)+'px"/>',g+='<div class="SectionViewZoom"></div>',g+="<br/>",g+='<div style="color:#666666;font-size:9px;padding-bottom:5px;">Approximate view from this section. May differ based on row, seat, camera or obstructions.</div>')),i.Active?i.Quantity>0&&(g+='<span class="tuMapHighlight">'+i.Quantity+"</span> ticket"+(i.Quantity>1?"s":"")+" available from "+i.MinPrice+(i.MinPrice!=i.MaxPrice?" to "+i.MaxPrice:"")):g+="No Tickets currently available for this Section",g+="</div>"}},Container:null,Map:null,Groups:{},Sections:{},Selection:[],ParkingFlag:!1,PreferredFlag:!1,eTicketFlag:!1,ConvertZoom:function(g){return g||(g=f.Settings.ZoomLevel-1),e.Resolutions.length>g?e.Resolutions[g]/100:(e.Zoom=e.Resolutions.length-1,e.Resolutions[e.Resolutions.length-1]/100)},ZoomIn:function(){return e.ZoomIn()},ZoomOut:function(){return e.ZoomOut()},Reset:function(){f.HideSectionView("click"),e.Wrapper.trigger("OnReset")},SetOptions:function(g){return d.each(g,function(h,l){switch(f.Settings[h]=l,h){case"Tickets":case"Columns":"Reset"!=f.RefreshType&&(f.RefreshType="ProcessTickets");break;case"PreferredFirst":case"TicketsSort":"Reset"!=f.RefreshType&&"ProcessTickets"!=f.RefreshType&&(f.RefreshType="SortTickets");break;case"PreferredText":case"TicketsFilter":var n=f.Settings.TicketsFilter.Quantity,o=0,k="eq";if("string"==typeof f.Settings.TicketsFilter.Quantity){var i=f.Settings.TicketsFilter.Quantity.indexOf("-");if(i!=-1)n=f.Settings.TicketsFilter.Quantity.substring(0,i),o=f.Settings.TicketsFilter.Quantity.substring(i+1),k="bt";else{n=f.Settings.TicketsFilter.Quantity.replace(/[^0-9]+/g,"").toString();var m=d.trim(f.Settings.TicketsFilter.Quantity.replace(n,""));"+"==m&&(k="gt")}}var j={MinPrice:parseFloat(f.Settings.TicketsFilter.MinPrice),MaxPrice:parseFloat(f.Settings.TicketsFilter.MaxPrice),Quantity:parseInt(n),MaxQuantity:parseInt(o),Comparison:k,eTicket:f.Settings.TicketsFilter.eTicket,Ids:null!=f.Settings.TicketsFilter.Ids&&f.Settings.TicketsFilter.Ids.length>0?f.Settings.TicketsFilter.Ids:null};f.Settings.TicketsFilter=j,"Reset"!=f.RefreshType&&(f.RefreshType="ProcessTickets");break;case"ZoomLevel":e.Zoom=f.Settings.ZoomLevel,e.CheckMaxZoom(),e.SetZoom(f.ConvertZoom());break;case"EventId":case"MapId":case"MapSet":case"MapType":case"Columns":case"TicketsListContainer":case"GroupsContainer":case"TooltipFormatter":f.RefreshType="Reset"}}),this},AddMapControl:function(i,g,h){e.AddMapControl(i,g,h)},RemoveMapControl:function(g){d(".tuMapControl").each(function(){if(d.trim(d(this).html()).toLowerCase()==g.toLowerCase())return d(this).remove(),"Inside"==f.Settings.ControlsPosition&&e.ControlsContainer.css("margin-left",0-parseInt(e.ControlsContainer.width()/2)),!1})},GetSelectedSections:function(h){var g=[];return d.each(f.Selection,function(m,j){var l=f.Sections[j],i=null;if(l){if(h){if(h.IncludeGroupName){f.Groups[l.GroupId];g.push(l.LongName)}else g.push(l.Name);return}i=l.Mappings}else if(f.OtherSections[j]){if(h)return void g.push(f.OtherSections[j].Name);i=f.OtherSections[j].Mappings}d.each(i,function(o,n){g.push(n)})}),g},GetSections:function(h){var g=[];return d.each(f.Sections,function(j,i){h&&0==i.Alias.length||g.push({Active:i.Active,Selected:i.Selected,Key:i.Key,Name:i.Name,DisplayName:i.DisplayName,DisplayGroupName:i.DisplayGroupName,Alias:i.Alias,ExactMatchAlias:i.ExactMatchAlias,Group:f.Groups[i.GroupId],SectionViewAvailable:i.IsSectionViewAvailable,SectionViewThumbnailUrl:i.SectionViewThumbnailUrl,SectionViewUrl:i.SectionViewUrl})}),g},GetOtherSections:function(){var g=[];return d.each(f.OtherSections,function(i,h){g.push({Name:h.Name,Alias:h.Alias,Enabled:h.Enabled,IsExactMatch:h.IsExactMatch})}),g},GetSectionsInGroup:function(h,i,g){d.each(f.Sections,function(j,k){if(null!=k&&k&&k.GroupId==h){if(null!=i&&i.OnlyActive&&!k.Active)return;if(null!=i&&i.OnlyUnselected&&k.Selected)return;g(j,k)}})},HighlightGroup:function(g){return this.GetSectionsInGroup(g,{OnlyActive:!0,OnlyUnselected:!0},function(h,i){i.SetStyle(f.Settings.HighlightStyle)}),this},ResetGroup:function(g){return this.GetSectionsInGroup(g,{OnlyActive:!0,OnlyUnselected:!0},function(h,i){i.SetStyle(f.Settings.NormalStyle)}),this},HighlightSection:function(g,i){i||(g=f.GetSectionKey(g));var h=f.Sections[g];return null!=h&&e.Trigger("OnMouseOver",f.Sections[g]),this},ResetSection:function(g,i){i||(g=f.GetSectionKey(g));var h=f.Sections[g];return null!=h&&e.Trigger("OnMouseOut",f.Sections[g]),this},BlinkTimer:null,BlinkState:1,Blink:function(){var g=f.Settings.HighlightStyle;1==f.BlinkState?(g=f.Settings.SelectedStyle,f.BlinkState=0,d(".tuMapControlSelected").addClass("tuMapControlBlink").removeClass("tuMapControlSelected")):(f.BlinkState=1,d(".tuMapControlBlink").addClass("tuMapControlSelected").removeClass("tuMapControlBlink")),d.each(f.Selection,function(j,h){var i=f.Sections[h];null!=i&&i.SetStyle(g)})},FilterTickets:function(g,h,k,j){if(k||(f.Selection.length>0&&(d.each(f.Selection,function(l,m){f.Sections[m]&&(f.Sections[m].Selected=!1)}),f.Selection=[],clearInterval(f.BlinkTimer),f.BlinkTimer=null),g=f.GetSectionKey(g)),h)f.Selection.push(g),null==f.BlinkTimer&&(f.BlinkTimer=setInterval(f.Blink,500));else{for(var i=-1;(i=d.inArray(g,f.Selection))>-1;)f.Selection.splice(i,1);0==f.Selection.length&&(clearInterval(f.BlinkTimer),f.BlinkTimer=null)}j||(f.ProcessTickets(),f.SortTickets(),f.ShowTickets())},AddMarker:function(g,j){var i=g.Section;j||(i=f.GetSectionKey(g.Section));var h=f.Sections[i];h&&h.AddMarker(g.Url,h.GetCenter(),g.Offset)},RemoveMarker:function(h,i){i||(h=f.GetSectionKey(h));var g=f.Sections[h];g&&g.RemoveMarker(g.GetCenter())},ToggleSelection:function(j,k,g){if(f.Settings.SingleSectionSelection&&f.Selection.length>0){var h=f.Selection[0];f.Selection.length=0,f.ToggleSelection(h,!0,!0)}k||(j=f.GetSectionKey(j));var i=f.Sections[j];if(i&&i.Active)return i.Selected?(null!=f.Settings.GroupsContainer&&(f.ZoneSelected=!1,f.Groups[i.GroupId].Selected=!1),0==f.Selection.length?f.HideSectionView("click"):f.ShowSectionView(j,"click")):f.ShowSectionView(j,"click"),i.Selected=!i.Selected,f.FilterTickets(j,i.Selected,!0,g),this},ToggleAll:function(){d.each(f.Sections,function(h,g){f.ToggleSelection(g.Key,!0,!0)}),f.ProcessTickets(),f.SortTickets(),f.ShowTickets()},ProcessTickets:function(){var j=null==f.Settings.TicketsListContainer&&(null==f.Settings.Tickets||0==f.Settings.Tickets.length)&&null==f.Settings.RowSelector;d.each(f.Sections,function(m,n){n.Active=j,n.FilteredTickets=0,n.MinPrice=9007199254740992,n.MaxPrice=0,n.MinPriceValue="",n.MinPriceValue="",n.Quantity=0,n.SetStyle(f.Settings.InactiveStyle)}),d.each(f.Groups,function(m){f.Groups[m].ActiveSections=0,f.Groups[m].HasZoneTickets=!1});var l=f.Settings.Tickets;f.FilteredTickets=[];if(!f.Settings.TicketsListContainer&&f.Settings.RowSelector&&(null==l||0==l.length)){if(!f.Settings.SectionSelector)throw"Section Selector Required";l=[];var i=/<\S[^><]*>/g;d(f.Settings.RowSelector).each(function(){var v=null,m=null,q=d(this).find(f.Settings.SectionSelector).text().replace(i,"");""==q&&f.Settings.ZoneSelector?v=d(this).find(f.Settings.ZoneSelector).text().replace(i,""):m=d(this).find(f.Settings.RowNumberSelector).text().replace(i,"");var o=f.Settings.PriceSelector?d(this).find(f.Settings.PriceSelector).text().replace(i,""):0,n=0;if(f.Settings.QuantitySelector){var p=d(this).find(f.Settings.QuantitySelector);p.length>0&&(1==p.length?n=d.trim(p.text().replace(i,"")):(n=[],d.each(p,function(w,x){n.push(parseInt(d.trim(d(x).text().replace(i,""))))})))}var r=!!f.Settings.eTicketSelector&&d(this).find(f.Settings.eTicketSelector).length>0,s=d(this),u="Zone",t=null;v?t=f.GetZone(v):u=f.GetSectionKey(q,m),d(this).mouseenter(function(){f.HighlightSection(u,!0)}).mouseleave(function(){f.ResetSection(u,!0)}),l.push({SectionKey:u,ZoneKey:t,section:q,row:m,RowObject:s,price:o,quantity:n,eticket:r})})}var k=f.IsFilterSet();d.each(l,function(p,n){if(n.section?null==n.SectionKey&&(n.SectionKey=f.GetSectionKey(n.section,n.row)):n.zone&&null==n.ZoneKey&&(n.ZoneKey=f.GetZone(n.zone),n.SectionKey="Zone"),"Parking"==n.SectionKey&&(f.ParkingFlag=!0),n.price&&("number"==typeof n.price?n.PriceValue=n.price:n.PriceValue=parseFloat(n.price.replace(/[^0-9.-]+/g,""))),f.Settings.Columns.flag&&(n.preferred&&(f.Settings.Columns.flag.Visible=!0,f.PreferredFlag=!0),n.eticket&&(f.Settings.Columns.flag.Visible=!0,f.eTicketFlag=!0)),n.MaxQuantity=0,n.quantity&&("object"==typeof n.quantity?d.each(n.quantity,function(r,q){parseInt(q)>n.MaxQuantity&&(n.MaxQuantity=parseInt(q))}):n.MaxQuantity=parseInt(n.quantity)),0!=n.MaxQuantity){var o=f.IsTicketFiltered(n);if(o&&(!(f.Selection.length>0&&d.inArray(n.SectionKey,f.Selection)==-1)||n.ZoneKey&&f.Groups[n.ZoneKey].Selected)){var m=f.Sections[n.SectionKey];f.ZoneSelected&&!n.ZoneKey&&null!=m&&0==f.Groups[m.GroupId].Selected||(f.FilteredTickets.push(n),null!=m&&(n.GroupColor=f.Groups[m.GroupId].Color))}if(f.Sections[n.SectionKey]){var m=f.Sections[n.SectionKey];n.FormattedSection=m.LongName,n.CleanGroupName=m.CleanGroupName,n.CleanSectionName=m.CleanSectionName,o&&f.Sections[n.SectionKey].FilteredTickets++,f.Sections[n.SectionKey].MinPrice>n.PriceValue&&(f.Sections[n.SectionKey].MinPrice=n.PriceValue,f.Sections[n.SectionKey].MinPriceValue=n.price),f.Sections[n.SectionKey].MaxPrice<n.PriceValue&&(f.Sections[n.SectionKey].MaxPrice=n.PriceValue,f.Sections[n.SectionKey].MaxPriceValue=n.price),f.Sections[n.SectionKey].Quantity+=n.MaxQuantity,f.Sections[n.SectionKey].Active=!0}n.ZoneKey&&(f.Groups[n.ZoneKey].HasZoneTickets=!0)}}),l=null;var h=!1;d.each(f.Sections,function(m,n){return!n.Active||k&&0==n.FilteredTickets?(n.Selected&&(f.Sections[m].Active=!0,f.ToggleSelection(m,!0,!0),h=!0),f.Sections[m].Active=!1,void n.SetStyle(f.Settings.InactiveStyle)):(n.SetStyle(f.Settings.NormalStyle),void f.Groups[n.GroupId].ActiveSections++)}),h&&(f.ProcessTickets(),f.SortTickets(),f.ShowTickets()),null!=f.Settings.GroupsContainer&&f.Groups&&f.GenerateGroups()},SortTickets:function(){if(null!=f.Settings.TicketsListContainer){var k=f.Settings.TicketsSort.SortType;null==k&&(k="string");var g=f.Settings.TicketsSort.Column,j=null,h=f.Settings.Columns[f.Settings.TicketsSort.Column];null!=h&&(k=h.SortType),"price"==g?g="PriceValue":"quantity"==g?g="MaxQuantity":"section"==g&&(j="row");var i=f.Settings.TicketsSort.Order.toUpperCase();f.FilteredTickets.sort(function(x,v){var s=null,p=null,n=null,l=null,r=1==x.preferred,w=1==v.preferred;if("string"==k){s=x[g].toString().toUpperCase(),p=v[g].toString().toUpperCase();var u=parseFloat(s),t=parseFloat(p);if(isNaN(u)||isNaN(t)){if(!isNaN(u)&&isNaN(t))return"ASC"==i?-1:1;if(isNaN(u)&&!isNaN(t))return"ASC"==i?1:-1}else s=u,p=t;if(null!=j&&x[j]){n=x[j].toString().toUpperCase(),l=v[j].toString().toUpperCase();var q=parseFloat(n),o=parseFloat(l);isNaN(q)||isNaN(o)||(n=q,l=o)}}else s=parseFloat(x[g]),p=parseFloat(v[g]);if(f.Settings.PreferredFirst&&r!=w)return"ASC"==i?r?-1:1:r?-1:1;var m=0;return m="ASC"==i?s<p?-1:s>p?1:0:s<p?1:s>p?-1:0,0==m&&null!=n&&null!=l?n<l?-1:n>l?1:0:m})}},AddSectionMapping:function(g,h){f.Sections[g]&&d.inArray(h,f.Sections[g].Mappings)==-1&&f.Sections[g].Mappings.push(h),f.OtherSections[g]&&d.inArray(h,f.OtherSections[g].Mappings)==-1&&f.OtherSections[g].Mappings.push(h)},GetZone:function(h){var g="";return d.each(f.Groups,function(k,j){return j.Name.toLowerCase()==h.toLowerCase()?(g=j.Id,!1):void d.each(j.Alias,function(){if(j.Alias==h)return g=j.Id,!1})}),g},GetSectionKey:function(h,k){k=parseInt(k);var g="Unmapped";SectionName=h.toLowerCase(),SectionName=d.trim(SectionName.replace(/[^0-9a-z]+/g," "));var j="",m="",l=[];if(d.each(f.Groups,function(o,n){if(d.each(n.Alias,function(p,r){var q=SectionName.indexOf(r);if(q!=-1&&(0==q||q==SectionName.length-r.length)&&r.length>=m.length){if(m=r,l.push({GroupId:n.Id,Alias:r}),1==n.SectionCount)return g=n.Id,!1;if(j=d.trim(SectionName.replace(m,"")),f.Sections[j+"_"+n.Id])return g=j+"_"+n.Id,!1}}),"Unmapped"!=g)return!1}),"Unmapped"!=g)return f.AddSectionMapping(g,h),g;var i=[];return d.each(l,function(n,o){o.Alias.length==m.length&&i.push(o.GroupId)}),l=i,0==l.length&&(j=SectionName.replace(/[^0-9]+/g,"").toString(),m=SectionName.replace(j,"")),d.each(f.Sections,function(p,o){var n=f.Groups[o.GroupId];if(null!=n){if(o.Name.toLowerCase()==SectionName){if(n.IsExactMatch&&f.SectionCounts[SectionName]>1)return;if(o.RowStart>0&&o.RowEnd>0&&(k<o.RowStart||k>o.RowEnd))return;return g=o.Key,!1}if(o.Name.toLowerCase()==j&&(!n.IsExactMatch||d.inArray(n.Id,l)!=-1))return g=f.ResolveOtherSection(SectionName),"Unmapped"==g?g=o.Key:f.OtherSections[g]&&(f.OtherSections[g].Enabled=!0),!1;"Unmapped"==g&&null!=o.ExactMatchAlias&&o.ExactMatchAlias.length>0&&d.each(o.ExactMatchAlias,function(q,r){if(r==SectionName)return g=o.Key,!1}),"Unmapped"==g&&null!=o.Alias&&o.Alias.length>0&&d.each(o.Alias,function(q,r){if(r==SectionName)return g=o.Key,!1;if(r==j){if(n.IsExactMatch&&d.inArray(n.Id,l)==-1)return;return g=f.ResolveOtherSection(SectionName),"Unmapped"==g?g=o.Key:f.OtherSections[g]&&(f.OtherSections[g].Enabled=!0),!1}})}}),"Unmapped"==g&&(g=f.ResolveOtherSection(SectionName),f.OtherSections[g]&&(f.OtherSections[g].Enabled=!0)),f.AddSectionMapping(g,h),g},ResolveOtherSection:function(h){var g="Unmapped";return d.each(f.OtherSections,function(j,i){if(i.IsExactMatch){if(j.toLowerCase()==h)return g=j,!1}else if(h.indexOf(j.toLowerCase())!=-1)return g=j,!1;null!=i.Alias&&i.Alias.length>0&&d.each(i.Alias,function(k,l){if(i.IsExactMatch){if(l==h)return g=j,!1}else if(h.indexOf(l)!=-1)return g=j,!1})}),g},IsFilterSet:function(){return f.Settings.TicketsFilter.MinPrice>0||f.Settings.TicketsFilter.MaxPrice>0||1==f.Settings.TicketsFilter.eTicket||f.Settings.TicketsFilter.Quantity>0||null!=f.Settings.TicketsFilter.Ids},IsTicketFiltered:function(g){if(null!=f.Settings.TicketsFilter.Ids&&d.inArray(g.id,f.Settings.TicketsFilter.Ids)==-1)return!1;if(f.Settings.TicketsFilter.MinPrice>0&&g.PriceValue>0&&g.PriceValue<f.Settings.TicketsFilter.MinPrice)return!1;if(f.Settings.TicketsFilter.MaxPrice>0&&g.PriceValue>0&&g.PriceValue>f.Settings.TicketsFilter.MaxPrice)return!1;if(f.Settings.TicketsFilter.eTicket&&f.eTicketFlag&&!g.eticket)return!1;if(!isNaN(f.Settings.TicketsFilter.Quantity)&&f.Settings.TicketsFilter.Quantity>0)if("eq"==f.Settings.TicketsFilter.Comparison){if("object"==typeof g.quantity){if(d.inArray(f.Settings.TicketsFilter.Quantity,g.quantity)==-1)return!1}else if(g.MaxQuantity>0&&g.MaxQuantity!=f.Settings.TicketsFilter.Quantity)return!1}else{if("gt"==f.Settings.TicketsFilter.Comparison&&g.MaxQuantity>0&&g.MaxQuantity<f.Settings.TicketsFilter.Quantity)return!1;if("bt"==f.Settings.TicketsFilter.Comparison)if("object"==typeof g.quantity){if(d.inArray(f.Settings.TicketsFilter.Quantity,g.quantity)==-1)return!1;if(d.inArray(f.Settings.TicketsFilter.MaxQuantity,g.quantity)==-1)return!1}else if(g.quantity<f.Settings.TicketsFilter.MaxQuantity||g.MaxQuantity>0&&g.MaxQuantity>f.Settings.TicketsFilter.MaxQuantity)return!1}return!0},ShowTickets:function(){if(null==f.Settings.TicketsListContainer)return void(null!=f.Settings.RowSelector&&(d(f.Settings.RowSelector).hide(),d.each(f.FilteredTickets,function(i,h){h.RowObject.show()})));var g=0;c.Initialize({Container:f.vTableContainer,Rows:f.FilteredTickets.length,TableFormatter:function(h){return h},ColumnsFormatter:function(h){return f.Settings.DisplayListHeader?(d.each(f.Settings.Columns,function(i,j){if(null==j.Visible||j.Visible){g++;var k=d("<th>");j.Sortable&&k.addClass("Sort"+(i==f.Settings.TicketsSort.Column?" "+f.Settings.TicketsSort.Order:"")),j.Width&&k.css("width",j.Width+"px"),k.attr("lang",i).html("<span>"+j.Title+"</span>"),k.click(function(){if(d(this).hasClass("Sort")){var l="";l=d(this).hasClass("ASC")?"DESC":"ASC",f.Settings.TicketsSort={Column:i,Order:l},f.SortTickets(),f.ShowTickets()}}),h.append(k)}}),h):h.css("display","none")},RowFormatter:function(i,j){var h=f.FilteredTickets[j];return i.addClass(j%2==0?"EvenRow":"OddRow"),d.each(f.Settings.Columns,function(k,l){if(null==l.Visible||l.Visible){var m=d("<td>");if(l.CSSClass&&m.addClass(l.CSSClass),l.Align&&m.css("text-align",l.Align),!h.section&&h.zone)if("section"==k)m.attr("colspan",2),k="zone";else if("row"==k)return;m.html(l.Formatter?l.Formatter(h,k,h[k],null!=h.FormattedSection?h.FormattedSection:h.section,null!=h.CleanGroupName?h.CleanGroupName:"",null!=h.CleanSectionName?h.CleanSectionName:h.section):h[k]),i.append(m),m.children(".BuyLink").click(function(){var o=d(this).attr("lang"),n=0;i.children("td").each(function(){var p=d(this).children("[lang=Quantity]");if(p.length>0)return n=d(p[0]).val(),!1}),f.Container.trigger("OnTicketSelected",{Id:o,Quantity:n})}),m.children(".Notes").hover(function(){var n=d.trim(d(this).attr("title"));if(""!=n){var o=d(this).position();f.Tooltip.css({top:o.top+20,left:o.left+20}).html(n),f.Tooltip.show(),d(this).attr("title","")}},function(){d(this).attr("title",f.Tooltip.html()),f.Tooltip.hide()})}}),i.hover(function(){f.HighlightSection(h.SectionKey,!0)},function(){f.ResetSection(h.SectionKey,!0)}),i},NoResultsFormatter:function(h){return h.append(d("<td>").attr("colspan",g).html(f.Settings.NoResultsFormatter()))}}),f.Container.trigger("OnAfterListRender")},ShowTooltip:function(k,j,n){if(!f.TooltipZoomed){f.TooltipTimeout&&(clearTimeout(f.TooltipTimeout),f.TooltipTimeout=null),n||(k=f.GetSectionKey(k));var m=f.Sections[k];if(!(f.Settings.AlwaysShowTooltip||m.Active&&0!=m.Quantity))return void f.HideTooltip();var h=f.Settings.TooltipFormatter({Key:m.Key,Section:m.Name,DisplayName:null!=m.DisplayName?m.DisplayName:m.Name,LongName:m.LongName,Mappings:m.Mappings,DisplayGroupName:m.DisplayGroupName,SectionViewThumbnailUrl:m.SectionViewThumbnailUrl,SectionViewUrl:m.SectionViewUrl,Group:f.Groups[m.GroupId],Active:m.Active,Quantity:m.Quantity,MinPrice:m.MinPriceValue,MaxPrice:m.MaxPriceValue,RowDetails:m.RowDetails});if(f.Tooltip.html(h),f.Settings.EnableTooltipSectionView){var l=function(){f.Tooltip.unbind().hide().css("position","absolute"),f.TooltipTimeout=null,f.TooltipZoomed=!1,d(".SectionViewBG").remove()},g=function(p){f.TooltipZoomed=!0,d("<div>").attr("class","SectionViewBG").css("width","100%").css("height","100%").css("position","fixed").css("left",0).css("top",0).css("z-index",999).appendTo(d("body")).click(function(){l()});f.Tooltip.position();f.Tooltip.css("position","fixed").css("opacity",0).css("left",(d(window).outerWidth(!0)-f.SectionViewSize)/2).css("top",(d(window).outerHeight(!0)-f.SectionViewSize/2)/2).animate({opacity:1},"slow"),p.parent().css("width",f.SectionViewSize),p.css("height",Math.round(f.SectionViewSize/2)),p.attr("src",m.SectionViewUrl),d(".SectionViewZoom",f.Tooltip).remove(),p.unbind(),p.css("cursor","auto")},i="Firefox"==a.browser?"-moz-zoom-in":"Chrome"==a.browser||"Safari"==a.browser?"-webkit-zoom-in":"pointer";d("img",f.Tooltip).css("cursor",i).click(function(o){o.preventDefault(),g(d(this))}),d(".SectionViewZoom",f.Tooltip).css("cursor",i).click(function(o){o.preventDefault(),g(d("img",f.Tooltip))}),d(".SectionViewClose",f.Tooltip).click(function(){l()}),f.Tooltip.mouseover(function(){e.MouseOnTooltip=!0}).mouseout(function(){e.MouseOnTooltip=!1})}f.MoveTooltip(m,j),h=d.trim(h),""!=h&&f.Tooltip.show()}},MoveTooltip:function(k,i){var g="BottomRight",j=k.GetCorner(i,g),h=f.Container.position();j.x+=h.left,j.y+=h.top,(j.x+f.Tooltip.width()>h.left+f.Container.outerWidth(!0)||j.x+f.Tooltip.width()>d(window).width())&&(g="BottomLeft",j=k.GetCorner(i,g),j.y+=h.top,j.x=h.left+j.x-f.Tooltip.width()-10),(j.y+f.Tooltip.height()>h.top+f.Container.outerHeight(!0)||j.y+f.Tooltip.height()>d(window).height())&&(g="BottomLeft"==g?"TopLeft":"TopRight",j=k.GetCorner(i,g),"TopRight"==g?j.x+=h.left:j.x=h.left+j.x-f.Tooltip.width()-10,j.y=h.top+j.y-f.Tooltip.height()-10),f.Settings.AnimateTooltip?(f.Tooltip.stop(),f.Tooltip.animate({top:j.y,left:j.x})):f.Tooltip.css("top",j.y).css("left",j.x)},HideTooltip:function(h){if(!f.TooltipTimeout){var g=function(){e.MouseOnTooltip||(d(".SectionViewBG").remove(),f.Tooltip.unbind().hide().css("position","absolute"),h||f.HideSectionView("mouseover"),f.TooltipZoomed=!1)};f.TooltipTimeout=setTimeout(g,800)}},ShowSectionView:function(k,g){if(f.Settings.SectionViewContainer&&f.Settings.SectionViewTrigger==g){var j=f.Sections[k];if(!j.SectionViewUrl)return void f.HideSectionView(g);var i="Approximate View from "+j.LongName,h=d("<div>");if("click"==g){h.addClass("tuMapSectionViewContainer");var i=d("<div>").html(i).append(d("<div>").addClass("CloseButton").click(function(){f.HideSectionView(g)}));h.append(i)}h.append('<img src="'+j.SectionViewUrl+'" alt="'+i+'" style="max-width:100%;"/>'),d(f.Settings.SectionViewContainer).html(h),d(f.Settings.SectionViewContainer).show()}},HideSectionView:function(g){f.Settings.SectionViewContainer&&f.Settings.SectionViewTrigger==g&&(d(f.Settings.SectionViewContainer).html(""),d(f.Settings.SectionViewContainer).hide())},InitSection:function(i,h){1==f.Groups[i.GroupId].SectionCount?i.Key=i.GroupId:i.Key=i.Name.toLowerCase()+"_"+i.GroupId;var g=f.Groups[i.GroupId];i.LongName=(i.DisplayGroupName?(null!=g.DisplayName?g.DisplayName:g.Name)+" ":"")+(null!=i.DisplayName?i.DisplayName:i.Name),i.CleanGroupName=i.DisplayGroupName?null!=g.DisplayName?g.DisplayName:g.Name:"",i.CleanSectionName=null!=i.DisplayName?i.DisplayName:i.Name,f.SectionCounts[i.Name.toLowerCase()]||(f.SectionCounts[i.Name.toLowerCase()]=0),f.SectionCounts[i.Name.toLowerCase()]++,i.IsSectionViewAvailable&&(i.IsSectionViewAvailable=null!=h),i.Active=null==f.Settings.TicketsListContainer&&null==f.Settings.RowSelector,i.IsSectionViewAvailable&&(i.SectionViewThumbnailUrl=h+f.Settings.TooltipSectionViewSize+"X/"+i.Key+".jpg",i.SectionViewUrl=h+f.SectionViewSize+"X/"+i.Key+".jpg"),e.Add(new b.Map.Section(i))},Refresh:function(g){switch(null!=g&&(f.RefreshType=g),f.RefreshType){case"Reset":!f.Settings.TicketsListContainer&&f.Settings.RowSelector?f.Settings.Tickets=null:f.Settings.Tickets?d.each(f.Settings.Tickets,function(h,i){i.SectionKey=null}):f.Settings.Tickets=[],d.extend(f.Settings,f.GetStyles(f.Settings.ColorScheme)),d(this).tuMap(f.Settings);break;case"ProcessTickets":f.ProcessTickets(),f.SortTickets(),f.ShowTickets();break;case"SortTickets":f.SortTickets(),f.ShowTickets();break;case"ShowTickets":f.ShowTickets()}return this},GenerateGroups:function(){var k="";d.each(f.Groups,function(p,o){k+='<div lang="'+o.Id+'" class="tuMapGroup '+(o.ActiveSections>0||o.HasZoneTickets?"":"Disabled")+" "+(o.Selected?"tuMapGroupChecked":"")+'">',k+='<span class="tuMapGroupColor" style="background-color:'+o.Color+';"></span>',k+='<span class="tuMapGroupTitle">'+o.Name+"</span>",k+='<br style="clear:both"/>',k+="</div>"}),d(f.Settings.GroupsContainer).html(k).addClass("tuMapGroupsContainer");var n=0;d(f.Settings.GroupsContainer).children(".tuMapGroup").each(function(){d(this).outerWidth(!0)>n&&(n=Math.round(d(this).outerWidth(!0)))}),f.InteractiveMode?(d(f.Settings.GroupsContainer).addClass("tuMapActiveGroupsContainer"),d(f.Settings.GroupsContainer).children("div").mouseenter(function(){if(d(this).hasClass("Disabled")){var o=d(this).offset();f.Tooltip.html("No Inventory Available").css({top:o.top-f.Tooltip.height(),left:o.left-f.Tooltip.width()}),f.Tooltip.show()}else f.HighlightGroup(d(this).attr("lang"))}).mouseleave(function(){d(this).hasClass("Disabled")?f.Tooltip.hide():f.ResetGroup(d(this).attr("lang"))}).click(function(){if(!d(this).hasClass("Disabled")){var o=d(this).attr("lang"),r=f.Groups[o].Selected;r?(f.Groups[o].Selected=!1,f.ZoneSelected=!1):(f.Groups[o].Selected=!0,f.ZoneSelected=!0);var q=[];f.GetSectionsInGroup(o,{OnlyActive:!0,OnlyUnselected:!1},function(s,t){q.push({Name:t.Name,Active:t.Active}),f.Sections[s].Selected=r,f.ToggleSelection(s,!0,!0)}),f.ProcessTickets(),f.SortTickets(),f.ShowTickets();var p=f.Groups[o];f.Container.trigger("OnGroupClick",{Name:p.Name,Selected:p.Selected,Sections:q})}})):d(f.Settings.GroupsContainer).removeClass("tuMapActiveGroupsContainer");for(var g=d(f.Settings.GroupsContainer).outerWidth(!0),m=d(f.Settings.GroupsContainer+" > DIV").length,i=parseInt(g/n),l=parseInt(m/i)+(m%i>0?1:0);;){var h=parseInt(m/(i-1))+(m%(i-1)>0?1:0);if(!(h<=l))break;i--}n=Math.floor(g/i);var j=0;d(f.Settings.GroupsContainer+" .tuMapGroup").each(function(){0==j&&d(f.Settings.GroupsContainer).append(d("<div>").addClass("TempContainer").css("width",n)),d(f.Settings.GroupsContainer+" > .TempContainer:last").append(d(this)),j++,j==l&&(j=0)}),d(f.Settings.GroupsContainer+" > .TempContainer").removeClass("TempContainer"),d(f.Settings.GroupsContainer).append('<br style="clear:both;"/>')},OnLoad:function(h,j){try{if(1==j.Status){if(e.GetTile=function(r,p,o){if("Interactive"==j.MapType||"Static"==j.MapType){var q="";1==f.Settings.ColorScheme&&(q="WB/");var n=o.createElement("IMG");return n.src=j.MapBaseUrl+j.VenueChartId+"/"+q+p+"_"+r.x+"_"+r.y+".jpg",n.onerror=function(){0!=f.Settings.ColorScheme&&(this.src=j.MapBaseUrl+j.VenueChartId+"/"+p+"_"+r.x+"_"+r.y+".jpg")},n}var n=o.createElement("IMG");return n.src=j.MapBaseUrl+j.MapType+"/"+p+"_"+r.x+"_"+r.y+".jpg",n},e.Resolutions=j.Resolutions,e.AdaptiveDisplay=j.AdaptiveDisplay,e.ZoomLevel=f.ConvertZoom(),e.Initialize(d(this)),j.Groups&&j.Groups.length>0&&d.each(j.Groups,function(o,n){n.ActiveSections=0,f.Groups[n.Id]=n}),null!=j.Sections){var i=j.SectionViewBaseUrl?j.SectionViewBaseUrl+j.VenueChartId+"/":null;f.SectionViewSize=500,f.Settings.SectionViewContainer?f.SectionViewSize=f.CalculateSVWidth(d(f.Settings.SectionViewContainer).width()):(f.Settings.TooltipSectionViewSize=f.CalculateSVWidth(f.Settings.TooltipSectionViewSize),f.SectionViewSize=f.CalculateSVWidth(2*f.Settings.TooltipSectionViewSize)),f.SectionCounts={},f.Sections={},d.each(j.Sections,function(o,n){f.InitSection(n,i)});var m=function(){e.Zoom=f.Settings.ZoomLevel,e.CheckMaxZoom(),e.SetZoom(f.ConvertZoom())},k=1;e.IsOldIE()&&(k=1e3),setTimeout(m,k)}f.OtherSections={},null!=j.OtherSections&&d.each(j.OtherSections,function(o,n){f.OtherSections[n.Name]=n,f.OtherSections[n.Name].Enabled=!1,f.OtherSections[n.Name].Mappings=[]}),f.OtherSections.Unmapped={Name:"Unmapped",Alias:[],IsExactMatch:!1,Enabled:!1,Mappings:[]},f.OnLoadContinue(j)}else if(f.Settings.FailoverMapUrl){var g=d("<img>").attr("src",f.Settings.FailoverMapUrl).attr("alt","Venue Map").css("max-width",f.Container.outerWidth(!0)).load(function(){f.OnLoadContinue(j)});d("<div>").css("text-align","center").append(g).appendTo(f.Container)}}catch(l){throw f.Container.trigger("OnError",{Code:-1,Message:l.message}),f.MapError=!0,l}},OnLoadContinue:function(g){f.InteractiveMode="Interactive"==g.MapType,f.InteractiveMode||null!=g.OtherSection||(f.OtherSections.Parking={Name:"Parking",Alias:["parking","park"],IsExactMatch:!1,Enabled:!0,Mappings:[]}),f.ProcessTickets(),f.SortTickets(),f.InteractiveMode&&d.each(f.OtherSections,function(h,i){i.Enabled&&e.AddMapControl(i.Name,function(j){f.FilterTickets(h,j,!0),f.Container.trigger("OnControlClick",{Name:i.Name,Selected:j,Mappings:i.Mappings})},!0)}),f.GenerateFilters(),f.ShowTickets(),1==g.Status?f.Container.trigger("OnInit",{MapType:g.MapType,ResolvedBy:g.ResolvedBy}):(f.Container.trigger("OnError",{Code:g.ErrorCode,Message:g.Error}),f.MapError=!0)},CalculateSVWidth:function(i){var h=[250,500,1e3,1500];if(i<=h[0])return h[0];for(var g=0;g<4;g++){if(g==h.length-1)return h[h.length-1];if(i>=h[g]&&i<h[g+1])return i-h[g]<h[g+1]-i?h[g]:h[g+1]}},GenerateFilters:function(){if(f.Settings.TicketsListContainer){f.Container.trigger("OnBeforeListRender"),d(f.Settings.TicketsListContainer).css("overflow","visible"),d(f.Settings.TicketsListContainer).html("");var h=d(f.Settings.TicketsListContainer).outerHeight(!0),k=0;if(f.PreferredFlag||f.eTicketFlag){var i=d("<div>").addClass("tuMapPreferredFilter");if(f.PreferredFlag){var l=d("<div>").addClass("tuMapPreferred");l.append(d("<span>").addClass("Icon"));var g=d("<input>").attr("type","checkbox").attr("checked",f.Settings.PreferredFirst?'checked="checked"':"");g.change(function(){f.Settings.PreferredFirst=d(this).is(":checked"),f.SortTickets(),f.ShowTickets()}),l.append(g),l.append(d("<span>").html(f.Settings.PreferredText)),i.append(l)}if(f.eTicketFlag){var j=d("<div>").addClass("tuMapeTicket");j.append(d("<span>").addClass("Icon")),j.append(d("<span>").html("E-Ticket")),i.append(j)}d(f.Settings.TicketsListContainer).append(i),d("<br>").css("clear","both").appendTo(i),h>0&&(k=i.outerHeight(!0))}f.vTableContainer=d("<div>"),d(f.Settings.TicketsListContainer).append(f.vTableContainer),0==h&&(h=f.Container.outerHeight(!0),f.Settings.GroupsContainer&&(h+=d(f.Settings.GroupsContainer).outerHeight(!0)),h-=Math.abs(f.Container.offset().top-d(f.vTableContainer).offset().top)),h-=k,f.vTableContainer.height(h)}},Extend:function(g){return d.extend(!0,f,g),this},GetStyles:function(g){return 0==g?{HighlightStyle:{strokeColor:"#FFFFFF",strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7}}:{HighlightStyle:{strokeColor:"#333333",strokeWeight:2,fillColor:"#FFFF00",fillOpacity:.5},NormalStyle:{fillOpacity:0,fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:0},SelectedStyle:{strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.3},InactiveStyle:{strokeColor:"#FFFFFF",strokeWeight:0,fillColor:"#666666",fillOpacity:.7}}},Initialize:function(h){f.Groups={},f.Sections={},f.OtherSections={},f.Selection=[],f.RefreshType="None",null!=h.ColorScheme&&d.extend(f.defaults,f.GetStyles(h.ColorScheme)),
f.Settings=d.extend({},f.defaults,h),f.Container=d(this),f.Container.unbind(),d(".tuMapTooltip").remove();var g=f.Container.position();f.Tooltip=d('<div class="tuMapTooltip"></div>').insertAfter(f.Container).css({position:"absolute",display:"none","z-index":2e4,left:g.left,top:g.top}),f.Container.bind("OnTicketSelected",f.Settings.OnTicketSelected),f.Container.bind("OnMouseover",f.Settings.OnMouseover),f.Container.bind("OnMouseout",f.Settings.OnMouseout),f.Container.bind("OnClick",f.Settings.OnClick),f.Container.bind("OnGroupClick",f.Settings.OnGroupClick),f.Container.bind("OnLoad",f.OnLoad),f.Container.bind("OnInit",f.Settings.OnInit),f.Container.bind("OnBeforeListRender",f.Settings.OnBeforeListRender),f.Container.bind("OnAfterListRender",f.Settings.OnAfterListRender),f.Container.bind("OnError",f.Settings.OnError),f.Container.bind("OnReset",f.Settings.OnReset),f.Container.bind("OnControlClick",f.Settings.OnControlClick);var i="Version=3.1.12&MapSet="+f.Settings.MapSet+"&MapType="+f.Settings.MapType+"&EnableGroups="+(null!=f.Settings.GroupsContainer).toString()+"&Domain="+window.location.host+"&AutoSwitchToStatic="+f.Settings.AutoSwitchToStatic;if(null==f.Settings.MapId&&null==f.Settings.EventId&&null==f.Settings.EventInfo)throw"EventInfo, MapId or EventId is Required";return null!=f.Settings.EventId&&(i="EventId="+f.Settings.EventId+"&SeatingChartAutoCorrect="+f.Settings.SeatingChartAutoCorrect+"&"+i),null!=f.Settings.MapId&&(i="MapId="+f.Settings.MapId+"&"+i),null!=f.Settings.EventInfo&&(i="Venue="+escape(f.Settings.EventInfo.Venue)+"&Event="+escape(f.Settings.EventInfo.EventName)+"&EventDate="+f.Settings.EventInfo.EventDate+"&"+i),d.ajax({url:f.Settings.ServiceUrl,dataType:"jsonp",crossDomain:!0,data:i,type:"POST",success:function(j){null!=f.Settings.GroupsContainer&&d(f.Settings.GroupsContainer).html(""),null!=f.Settings.TicketsListContainer&&d(f.Settings.TicketsListContainer).html(""),f.Container.html(""),f.Container.trigger("OnLoad",j)},error:function(){}}),this}},c={defaults:{Rows:0,TableFormatter:function(g){return g},ColumnsFormatter:function(g){return g.append(d("<th>").text("Column"))},RowFormatter:function(h,g){return h.attr("lang",g).append(d("<td>").text("Row"+g))},NoResultsFormatter:function(){}},Initialize:function(i){if(c.Body=null,c.Fillers=[],c.RowData=[],c.RowHeight=0,c.Settings=d.extend({},c.defaults,i),c.Settings.Container.unbind(),c.Settings.Container.html("").attr("class","tuMapTicketList"),c.ColTable=c.Settings.TableFormatter(d("<table>").attr("cellpadding",3).attr("cellspacing",0).attr("style","width:100%;")),c.ColTable.append(d("<thead>").append(c.Settings.ColumnsFormatter(d("<tr>")))),c.ColTable.appendTo(c.Settings.Container),c.TableContainer=d("<div>").css("overflow","auto").css("height",c.Settings.Container.height()-c.ColTable.height()-1),c.TableContainer.appendTo(c.Settings.Container),c.Table=c.ColTable.clone(),c.ColTable.css("table-layout","fixed"),c.Body=c.Table.append("<tbody>"),c.Table.appendTo(c.TableContainer),0==c.Settings.Rows)return c.Body.append(c.Settings.NoResultsFormatter(d("<tr>"))),void c.AdjustColumns();for(var g=0;g<c.Settings.Rows;g++)if(c.RowData[g]={Created:!0,tr:d("<tr>")},c.Body.append(c.Settings.RowFormatter(c.RowData[g].tr,g)),c.Table.height()>c.TableContainer.height()){c.RowHeight=d(c.Table.find("tr")[1]).height();var h=d("<tr>").attr("height",c.Settings.Rows*c.RowHeight);c.Body.append(h),c.Fillers.push({startIndex:g+1,endIndex:c.Settings.Rows-1,tr:h}),c.CreateRow(0,g);break}c.AdjustColumns(),c.TableContainer.scroll(function(){var j=d(this).scrollTop();c.scrollTop!=j&&(null!=c.verticalScrollHandle&&clearTimeout(c.verticalScrollHandle),c.verticalScrollHandle=setTimeout(function(){c.RenderRows()},10),c.scrollTop=j)})},CreateRow:function(u,p){for(var w=c.RowData,o=u;o<=p;o++)null==w[o]&&(w[o]={});for(var h=!1,o=u;o<=p;o++)if(null==w[o].tr){h=!0;break}if(h){for(var g=(c.Body,c.RowHeight),j=c.Fillers,k=[],o=j.length;o--;){var n=j[o];u<=n.endIndex&&p>=n.startIndex&&k.push(n)}for(var o=k.length;o--;){for(var n=k[o],q=u>=n.startIndex?u:n.startIndex,t=p<=n.endIndex?p:n.endIndex,r=q;r<=t;r++){var s=w[r];s.tr=d("<tr>").height(g+"px").insertBefore(n.tr)}var m=!1,l=n.startIndex;if(t<n.endIndex&&(n.startIndex=t+1,n.tr.height((n.endIndex-n.startIndex+1)*g+"px"),m=!0),q>l)if(m){var n={startIndex:l,endIndex:q-1,tr:d("<tr>")};n.tr.height((n.endIndex-n.startIndex+1)*g+"px").insertBefore(w[q].tr),j.push(n)}else n.endIndex=q-1,n.tr.height((n.endIndex-n.startIndex+1)*g+"px").insertBefore(w[q].tr),m=!0;if(!m){for(var r=j.length;r--;)if(n==j[r]){j.splice(r,0);break}n.tr.remove()}}}},RenderRows:function(){if(0!=c.Settings.Rows){var h=Math.floor(c.TableContainer.scrollTop()/c.RowHeight)-5,k=Math.ceil((c.TableContainer.scrollTop()+c.TableContainer.outerHeight(!0))/c.RowHeight)+5;h<0&&(h=0),k>c.Settings.Rows-1&&(k=c.Settings.Rows-1),c.CreateRow(h,k);for(var g=h;g<=k;g++){var j=c.RowData[g];j.Created!==!0&&(c.Settings.RowFormatter(j.tr,g),j.Created=!0)}c.AdjustColumns()}},AdjustColumns:function(){for(var i=c.Table.find("tr:first").children(),h=c.ColTable.find("tr:first").children(),g=0;g<i.length-1;g++)d(h[g]).width(d(i[g]).width());c.Table.css("margin-top",-d(i[0]).outerHeight(!0)-1)}},e={TileSize:100,BaseTileSize:100,OnMouseOver:function(g,h,i){i&&(i.Active&&!i.Selected&&i.SetStyle(f.Settings.HighlightStyle),h&&f.ShowTooltip(i.Key,h,!0),f.Container.trigger("OnMouseover",{Active:i.Active,Selected:i.Selected,Key:i.Key,Name:i.Name,DisplayName:i.DisplayName,DisplayGroupName:i.DisplayGroupName,ExactMatchAlias:i.ExactMatchAlias,Alias:i.Alias,Group:f.Groups[i.GroupId],SectionViewAvailable:i.IsSectionViewAvailable,SectionViewThumbnailUrl:i.SectionViewThumbnailUrl,SectionViewUrl:i.SectionViewUrl,Mappings:i.Mappings,MousePosition:h,RowDetails:i.RowDetails,RowStart:i.RowStart,RowEnd:i.RowEnd}))},OnMouseOut:function(g,h,i){i&&(i.Active&&!i.Selected&&i.SetStyle(f.Settings.NormalStyle),h&&f.HideTooltip(),f.Container.trigger("OnMouseout",{Active:i.Active,Selected:i.Selected,Key:i.Key,Name:i.Name,DisplayName:i.DisplayName,DisplayGroupName:i.DisplayGroupName,ExactMatchAlias:i.ExactMatchAlias,Alias:i.Alias,Group:f.Groups[i.GroupId],SectionViewAvailable:i.IsSectionViewAvailable,SectionViewThumbnailUrl:i.SectionViewThumbnailUrl,SectionViewUrl:i.SectionViewUrl,Mappings:i.Mappings,MousePosition:h,RowDetails:i.RowDetails,RowStart:i.RowStart,RowEnd:i.RowEnd}))},OnMouseMove:function(){},OnClick:function(g,h,i){f.HideTooltip(!0),i&&i.Active&&(f.ToggleSelection(i.Key,!0),f.Container.trigger("OnClick",{Active:i.Active,Selected:i.Selected,Key:i.Key,Name:i.Name,DisplayName:i.DisplayName,DisplayGroupName:i.DisplayGroupName,ExactMatchAlias:i.ExactMatchAlias,Alias:i.Alias,Group:f.Groups[i.GroupId],SectionViewAvailable:i.IsSectionViewAvailable,SectionViewThumbnailUrl:i.SectionViewThumbnailUrl,SectionViewUrl:i.SectionViewUrl,Mappings:i.Mappings,RowDetails:i.RowDetails,RowStart:i.RowStart,RowEnd:i.RowEnd}))},OnReset:function(){d.each(f.Selection,function(h,g){f.Sections[g]&&(f.Sections[g].Selected=!1)}),f.Selection=[],f.ZoneSelected=!1,d.each(f.Groups,function(g){f.Groups[g].Selected=!1}),null!=f.BlinkTimer&&(clearInterval(f.BlinkTimer),f.BlinkTimer=null),d(".tuMapControlSelected").each(function(){d(this).removeClass("tuMapControlSelected")}),d(".tuMapControlBlink").each(function(){d(this).removeClass("tuMapControlBlink")}),e.SetCenter(new b.Map.Point(0,0)),e.Zoom=f.Settings.ZoomLevel,e.CheckMaxZoom(),e.SetZoom(f.ConvertZoom()),f.ProcessTickets(),f.SortTickets(),f.ShowTickets(),f.Container.trigger("OnReset")},GetTile:function(){},Container:null,Wrapper:null,Canvas:null,GCanvas:null,CanvasContext:null,GCanvasContext:null,GhostSections:{},CurrentShape:null,TranslatePos:null,StartDragOffset:{},BaseUrl:"http://data.ticketutils.com/Charts/",ZoomLevel:5,Side:500,Tiles:[],IsOldIE:function(){var g=navigator.userAgent.toLowerCase();return g.indexOf("msie")!=-1&&parseInt(g.split("msie")[1])<=8},CheckMaxZoom:function(){f.Settings.MaxZoom>0&&e.Zoom>f.Settings.MaxZoom&&(e.Zoom=f.Settings.MaxZoom)},DetectZoomLevel:function(h){for(var g=0;g<e.Resolutions.length;g++)if(e.Resolutions[g]>h){g>0?e.Zoom=h>=e.Resolutions[g-1]+(e.Resolutions[g]-e.Resolutions[g-1])*f.Settings.AdaptiveThreshold?g+1:g:e.Zoom=1;break}e.CheckMaxZoom(),e.ZoomLevel=e.Resolutions[e.Zoom-1]/100,f.Settings.ZoomLevel=e.Zoom},Initialize:function(i){var n=i.outerHeight(!0),h=i.outerWidth(!0);if(0==h||0==n)if(h>0)n=h;else if(n>0)h=n;else{var m=i.clone().css("postion","absolute").css("display","block").css("left","-1000").css("top","-1000");d("body").append(m),h=m.outerWidth(!0),n=m.outerHeight(!0),m.remove(),0!=h&&0!=n||(n=e.Side*e.ZoomLevel,h=n)}e.AdaptiveDisplay?e.DetectZoomLevel(h):(e.Zoom=f.Settings.ZoomLevel,e.CheckMaxZoom()),e.Container=d("<div>").attr("class","tuMapContainer").attr("style","position:relative;margin:auto;overflow:hidden;width:"+h+"px;height:"+n+"px").appendTo(i).disableSelection().mousemove(function(o){if(e.MouseDown)return e.CurrentShape&&e.Wrapper.trigger("OnMouseOut",[e.GetAbsolutePosition(o),e.CurrentShape]),d(e.Canvas).css("cursor","move"),e.CurrentShape=null,e.TranslatePos.x=o.clientX-e.StartDragOffset.x,e.TranslatePos.y=o.clientY-e.StartDragOffset.y,void e.Translate()}),e.TranslatePos=new b.Map.Point(0,0),e.Side=e.BaseTileSize*e.ZoomLevel,e.Wrapper=d("<div>").attr("style","z-index:0;position:absolute;width:"+e.Side+"px;height:"+e.Side+"px").disableSelection().appendTo(e.Container).mousedown(function(o){e.MouseDown=!0,e.StartDragOffset.x=o.clientX-e.TranslatePos.x,e.StartDragOffset.y=o.clientY-e.TranslatePos.y}).mouseup(function(){e.MouseDown=!1,e.Dragging=!1,d(e.Canvas).css("cursor","auto")}).mouseover(function(){e.MouseDown=!1,e.Dragging=!1}).mouseout(function(){return e.MouseDown=!1,e.Dragging=!1,!1}),e.GenerateTiles();var g=d("<canvas />").attr("style","position:absolute; top:0; left:0; z-index:1").disableSelection().appendTo(e.Wrapper);if(e.Canvas=g[0],e.Canvas.width=e.Wrapper.width(),e.Canvas.height=e.Wrapper.height(),e.Canvas.onselectstart=function(){return!1},window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e.Canvas),e.CanvasContext=e.Canvas.getContext("2d"),!e.IsOldIE()){var j=d("<canvas />");e.GCanvas=j[0],e.GCanvas.width=e.Wrapper.width(),e.GCanvas.height=e.Wrapper.height(),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e.GCanvas),e.GCanvasContext=e.GCanvas.getContext("2d")}e.ZoomControls=d("<div>").addClass("ZoomControls").appendTo(e.Container),d("<div>").addClass("ZoomIn").appendTo(e.ZoomControls).click(function(){e.ZoomIn()}),d("<div>").addClass("ZoomOut").appendTo(e.ZoomControls).click(function(){e.ZoomOut()}),e.ResetContainer=d("<div>").attr("style","position:absolute;right:5px;top:5px;").appendTo(e.Container),e.ResetButton=d("<div>").addClass("tuMapControl").html(f.Settings.ResetButtonText).appendTo(e.ResetContainer).click(function(){f.Reset()}),d(".tuMapControlsContainer").remove(),"Inside"==f.Settings.ControlsPosition?e.ControlsContainer=d('<div class="tuMapControlsContainer">').attr("style","text-align:center;bottom:0;left:50%;position:absolute;").appendTo(e.Container):e.ControlsContainer=d('<div class="tuMapControlsContainer">').attr("style","text-align:center;margin:0 auto;").insertAfter(i),e.IsOldIE()&&(e.CallbackFunctionId="TMCB"+Math.floor(1e6*Math.random())+1e3,window[e.CallbackFunctionId]=function(t,s,p,o){var q=(e.Wrapper.offset(),{x:t.x,y:t.y});"out"==p?e.TriggerEvent(q,null):"click"==p?e.Wrapper.trigger("OnClick",[q,null!=e.CurrentShape?e.CurrentShape:f.Sections[o]]):e.TriggerEvent(q,o)});var l=function(r){if(!e.Dragging){var q=e.GetAbsolutePosition(r),p=e.GetSectionUnderMouse(r);if(p){var o=f.Sections[p];o&&e.Wrapper.trigger("OnClick",[q,o])}}};if(g.bind("mouseup",function(o){l(o)}).bind("mousemove",function(o){e.IsOldIE()||e.TriggerEvent(e.GetAbsolutePosition(o),e.GetSectionUnderMouse(o))}).bind("contextmenu",function(o){o.preventDefault()}),jQuery().hammer){var k=g.hammer({prevent_default:!0,drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:20,tap:!0,tap_always:!0,show_touches:!0,prevent_mouseevents:!0});k.on("tap",function(o){l(o.gesture.center)}).on("pinch",function(o){var p=Math.ceil(e.Zoom*o.gesture.scale);p<1?p=1:p>e.Resolutions.length&&(p=e.Resolutions.length),p!=e.Zoom&&(e.Zoom=p,e.SetZoom(e.Resolutions[e.Zoom-1]/100))}).on("drag",function(o){e.TranslatePos.x=o.gesture.center.pageX-e.StartDragOffset.x,e.TranslatePos.y=o.gesture.center.pageY-e.StartDragOffset.y,e.Translate()}).on("dragstart",function(o){e.Dragging=!0,e.StartDragOffset.x=o.gesture.center.pageX-e.TranslatePos.x,e.StartDragOffset.y=o.gesture.center.pageY-e.TranslatePos.y}).on("dragend",function(){e.Dragging=!1})}return e.Wrapper.bind("OnMouseOver",e.OnMouseOver),e.Wrapper.bind("OnMouseOut",e.OnMouseOut),e.Wrapper.bind("OnClick",e.OnClick),e.Wrapper.bind("OnMouseMove",e.OnMouseMove),e.Wrapper.bind("OnReset",e.OnReset),e.SetCenter(new b.Map.Point(0,0)),this},AddMapControl:function(i,g,h){d("<div>").addClass("tuMapControl").html(i).appendTo(e.ControlsContainer).click(function(){var j=!0;h&&(d(this).hasClass("tuMapControlSelected")||d(this).hasClass("tuMapControlBlink")?(d(this).removeClass("tuMapControlSelected"),d(this).removeClass("tuMapControlBlink"),j=!1):d(this).addClass("tuMapControlSelected")),g(j)}),"Inside"==f.Settings.ControlsPosition?e.ControlsContainer.css("margin-left",0-parseInt(e.ControlsContainer.width()/2)):e.ControlsContainer.css("padding","3px")},GetAbsolutePosition:function(g){var h=e.Container.offset();return new b.Map.Point(g.pageX-h.left,g.pageY-h.top)},GetSectionUnderMouse:function(j){if(!e.IsOldIE()){var i=e.Wrapper.offset(),h=new b.Map.Point(j.pageX-i.left,j.pageY-i.top),k=e.GCanvasContext.getImageData(h.x,h.y,1,1).data,g="#"+("000000"+e.RGBToHex(k[0],k[1],k[2])).slice(-6);return e.GhostSections[g]}},GenerateTiles:function(){for(var h=0;h<this.Tiles.length;h++)this.Tiles[h].remove();var g=1,j=e.BaseTileSize*e.ZoomLevel;e.ZoomLevel<=5?(g=1,e.TileSize=j):e.ZoomLevel<=12?(g=2,e.TileSize=j/2):(g=j/500,e.TileSize=500);for(var h=0;h<g;h++)for(var k=0;k<g;k++){var i=e.GetTile(new b.Map.Point(h,k),e.ZoomLevel,document);d(i).attr("style","position:absolute;top:"+k*e.TileSize+"px;left:"+h*e.TileSize+"px;z-index:0;width:"+e.TileSize+"px;height:"+e.TileSize+"px;").appendTo(e.Wrapper).disableSelection(),this.Tiles.push(d(i))}},Trigger:function(g,h){e.Wrapper.trigger(g,[null,h])},TriggerEvent:function(g,h){h?(null==e.CurrentShape?(d(e.Canvas).css("cursor","pointer"),e.Wrapper.trigger("OnMouseOver",[g,f.Sections[h]])):e.CurrentShape.Key==h?e.Wrapper.trigger("OnMouseMove",[g,f.Sections[h]]):(e.Wrapper.trigger("OnMouseOut",[g,e.CurrentShape]),e.Wrapper.trigger("OnMouseOver",[g,f.Sections[h]])),e.CurrentShape=f.Sections[h]):null!=e.CurrentShape&&(e.Wrapper.trigger("OnMouseOut",[g,e.CurrentShape]),d(e.Canvas).css("cursor","move"),e.CurrentShape=null)},Add:function(g){for(f.Sections[g.Key]=g;;)if(g.SetGhostColor(),!e.GhostSections[g.GhostColor]){e.GhostSections[g.GhostColor]=g.Key;break}},SetZoom:function(h){var g=e.ZoomLevel;e.ZoomLevel=h,e.ZoomLevel>20?e.ZoomLevel=20:e.ZoomLevel<3&&(e.ZoomLevel=3),e.Side=e.BaseTileSize*e.ZoomLevel,e.Wrapper.width(e.Side).height(e.Side),e.GenerateTiles(),e.Canvas.width=e.Side,e.Canvas.height=e.Side,e.CanvasContext.clearRect(0,0,e.Side,e.Side),e.IsOldIE()?(g==e.ZoomLevel&&(g=1),e.CanvasContext.scale(e.ZoomLevel/g,e.ZoomLevel/g)):(e.GCanvas.width=e.Side,e.GCanvas.height=e.Side,e.GCanvasContext.clearRect(0,0,e.Side,e.Side),e.GCanvasContext.scale(e.ZoomLevel,e.ZoomLevel),e.CanvasContext.scale(e.ZoomLevel,e.ZoomLevel)),e.SetCenter(new b.Map.Point(e.Center.x*e.ZoomLevel/g,e.Center.y*e.ZoomLevel/g)),e.Draw()},GetCenter:function(g){var h=f.Sections[g];if(h)return h.GetCenter()},ZoomIn:function(){return e.Zoom++,e.Zoom>e.Resolutions.length?(e.Zoom=e.Resolutions.length,!1):(e.CheckMaxZoom(),e.SetZoom(e.Resolutions[e.Zoom-1]/100),!0)},ZoomOut:function(){return e.Zoom--,e.Zoom<=0?(e.Zoom=1,!1):(e.SetZoom(e.Resolutions[e.Zoom-1]/100),!0)},Translate:function(h){if(e.TranslatePos.x>0?(e.TranslatePos.x=e.Wrapper.outerWidth(!0)<e.Container.outerWidth(!0)?(e.Container.outerWidth(!0)-e.Wrapper.outerWidth(!0))/2:0,h=!1):e.TranslatePos.x+e.Wrapper.outerWidth(!0)-e.Container.outerWidth(!0)<0&&(e.TranslatePos.x=e.Container.outerWidth(!0)-e.Wrapper.outerWidth(!0),h=!1),e.TranslatePos.y>0?(e.TranslatePos.y=e.Wrapper.outerHeight(!0)<e.Container.outerHeight(!0)?(e.Container.outerHeight(!0)-e.Wrapper.outerHeight(!0))/2:0,h=!1):e.TranslatePos.y+e.Wrapper.outerHeight(!0)-e.Container.outerHeight(!0)<0&&(e.TranslatePos.y=e.Container.outerHeight(!0)-e.Wrapper.outerHeight(!0),h=!1),e.Wrapper.css("left",e.TranslatePos.x+"px").css("top",e.TranslatePos.y+"px"),!h){var g=new b.Map.Point(e.Container.outerWidth(!0)/2,e.Container.outerHeight(!0)/2),i=new b.Map.Point(e.Wrapper.outerWidth(!0)/2,e.Wrapper.outerHeight(!0)/2);e.Center=new b.Map.Point(g.x-i.x-e.TranslatePos.x,g.y-i.y-e.TranslatePos.y)}},SetCenter:function(i){e.Center=i;var g=new b.Map.Point(e.Container.outerWidth(!0)/2,e.Container.outerHeight(!0)/2),h=new b.Map.Point(e.Wrapper.outerWidth(!0)/2,e.Wrapper.outerHeight(!0)/2);e.TranslatePos=new b.Map.Point(g.x-h.x-i.x,g.y-h.x-i.y),e.Translate(!0)},Draw:function(){for(var g in f.Sections){var h=f.Sections[g];h.hasOwnProperty("Draw")&&h.Draw()}},RGBToHex:function(j,i,h){if(j>255||i>255||h>255)throw"Invalid Color Component";return(j<<16|i<<8|h).toString(16)},HexToRGB:function(h){var g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);return g?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:null}},b=b||{Map:{}};b.Map.Section=function(g){d.extend(this,g),this.Quantity=0,this.MinPrice=9007199254740992,this.MaxPrice=0,this.MinPriceValue="",this.MaxPriceValue="",this.Style={},d.extend(this.Style,this.Active?f.Settings.NormalStyle:f.Settings.InactiveStyle),this.Selected=!1,this.Mappings=[],this.Coords=[],this.Markers=[];var h=this;d.each(this.Coordinates,function(j,i){h.Coords.push(new b.Map.Point(i[0],i[1]))}),delete this.Coordinates,this.GetOpaqueColor=function(k,i){if(1==i)return k;var j=e.HexToRGB(k);return k="rgba("+j.r+","+j.g+","+j.b+","+i+")"},this.Draw=function(){this.DrawOnContext(e.CanvasContext,this.Style),e.IsOldIE()||this.DrawOnContext(e.GCanvasContext,{fillColor:this.GhostColor,fillOpacity:1})},this.IsStyleChanged=function(i){return this.Style.fillColor!=i.fillColor||this.Style.fillOpacity!=i.fillOpacity||this.Style.strokeColor!=i.strokeColor||this.Style.strokeWeight!=i.strokeWeight},this.GetCenter=function(){var i=0,k=0,j=0;return d.each(this.Coords,function(l,m){j++,i+=m.x*e.ZoomLevel,k+=m.y*e.ZoomLevel}),i/=j,k/=j,new b.Map.Point(i,k)},this.GetCorner=function(r,i){if("Dynamic"==i)return r;var t=null,j=1e5,n=500*e.ZoomLevel,s=500*e.ZoomLevel;switch(i){case"TopRight":s=-s;break;case"TopLeft":n=-n,s=-s;break;case"BottomLeft":n=-n}var q=1e4,o=0,p=1e4,m=0;d.each(this.Coords,function(v,w){w.x<q?q=w.x:w.x>o&&(o=w.x),w.y<p?p=w.y:w.y>m&&(m=w.y);var u=Math.sqrt(Math.pow(w.x-(r.x+n),2)+Math.pow(w.y-(r.y+s),2));u<j&&(j=u,t=new b.Map.Point(w.x*e.ZoomLevel+e.TranslatePos.x,w.y*e.ZoomLevel+e.TranslatePos.y))});var l=5;switch((o-q>20||m-p>20)&&(t={x:r.x,y:r.y},l=-5),i){case"TopRight":t.y+=l,t.x-=l;break;case"TopLeft":t.y+=l,t.x+=l;break;case"BottomLeft":t.y-=l,t.x+=l;break;default:t.y-=l,t.x-=l}return t},this.AddMarker=function(i,j,m){j||(j=this.GetCenter()),m||(m={x:0,y:0});var k=this,l=new Image;l.src=i,l.onload=function(){k.Markers.push({Image:l,Point:j,Adjustment:m}),k.DrawMarkers()}},this.DrawMarkers=function(){d.each(this.Markers,function(j,i){e.CanvasContext.drawImage(i.Image,(i.Point.x-i.Image.width)/e.ZoomLevel-i.Adjustment.x,(i.Point.y-i.Image.height)/e.ZoomLevel-i.Adjustment.y,i.Image.width/e.ZoomLevel,i.Image.height/e.ZoomLevel)})},this.RemoveMarker=function(j){for(var i=0;i<this.Markers.length;i++)if(this.Markers[i].Point.x==j.x&&this.Markers[i].Point.y==j.y){this.Markers.splice(i,1);break}this.Clear(e.CanvasContext),this.DrawOnContext(e.CanvasContext,this.Style)},this.SetStyle=function(i){if(this.IsStyleChanged(i))if(e.IsOldIE()){d.extend(this.Style,i);var j=document.getElementById(this.Key);j&&(j.filled=this.Style.fillOpacity>0,void 0!=typeof j.fill&&null!=j.fill&&(j.fill.opacity=100*this.Style.fillOpacity+"%"),j.fillcolor=this.Style.fillColor,j.strokecolor=this.Style.strokeColor,j.strokeweight=this.Style.strokeWeight,j.stroked=this.Style.strokeWeight>0)}else this.Clear(e.CanvasContext),d.extend(this.Style,i),this.DrawOnContext(e.CanvasContext,this.Style)},this.Clear=function(i){i.save(),i.globalCompositeOperation="destination-out",this.DrawOnContext(e.CanvasContext,{fillColor:"#FFFFFF",strokeColor:"#FFFFFF",strokeWeight:this.Style.strokeWeight,fillOpacity:1}),i.restore()},this.DrawOnContext=function(k,j){k.save(),k.beginPath(),k.moveTo(this.Coords[0].x,this.Coords[0].y);for(var i=0;i<this.Coords.length;i++)k.lineTo(this.Coords[i].x,this.Coords[i].y);k.closePath(),e.IsOldIE()?(k.fillStyle=this.GetOpaqueColor(j.fillColor,j.fillOpacity),k.lineWidth=j.strokeWeight/e.ZoomLevel,k.strokeStyle=j.strokeColor,k.stroke(!0,e.CallbackFunctionId,this.Key)):(j.fillOpacity>0&&(k.fillStyle=this.GetOpaqueColor(j.fillColor,j.fillOpacity),k.fill()),j.strokeWeight>0&&(k.lineWidth=j.strokeWeight/e.ZoomLevel,k.strokeStyle=j.strokeColor,k.stroke())),this.Markers.length>0&&j.fillColor!=this.GhostColor&&this.DrawMarkers(),k.restore()},this.SetGhostColor=function(){this.GhostColor="#"+("000"+(Math.random()*(1<<24)|0).toString(16)).substr(-6)}},b.Map.Point=function(g,h){this.x=g,this.y=h},d.fn.tuMap=function(g){return null!=f[g]?"function"==typeof f[g]?f[g].apply(this,Array.prototype.slice.call(arguments,1)):f[g]:"object"!=typeof g&&g?void d.error("Method "+g+" does not exist"):f.Initialize.apply(this,arguments)};var a={init:function(){this.browser=this.searchString(this.dataBrowser)||"Unknown",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(k){for(var g=0;g<k.length;g++){var h=k[g].string,j=k[g].prop;if(this.versionSearchString=k[g].versionSearch||k[g].identity,h){if(h.indexOf(k[g].subString)!=-1)return k[g].identity}else if(j)return k[g].identity}},searchVersion:function(h){var g=h.indexOf(this.versionSearchString);if(g!=-1)return parseFloat(h.substring(g+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"}]};a.init(),d.fn.disableSelection=function(){return this.each(function(){d(this).attr("unselectable","on").css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}}(jQuery);