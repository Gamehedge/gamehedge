"use strict";function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isBoolean(e){return"boolean"==typeof e}function isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}function isDefined(e){return"undefined"!=typeof e}function isFunction(e){return"function"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return"undefined"==typeof e}function convertToBoolean(e){return isBoolean(e)?e:null!==e&&""!==e&&"false"!==e}function hasProperty(e,t){return e.hasOwnProperty(t)}function isStringEmpty(e){return isNull(e)||isUndefined(e)||isString(e)&&0==e.length}function isStringNonempty(e){return isString(e)&&e.length>0}function upperCaseFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function areEqual(e,t){return angular.equals(e,t)}function min(e,t){return e<t?e:t}function max(e,t){return e>t?e:t}function beginsWith(e,t){return isString(e)&&0==e.lastIndexOf(t,0)}function endsWith(e,t){return isString(e)&&e.indexOf(t,e.length-t.length)!==-1}function copy(e,t){return angular.copy(e,t)}function removeProperty(e,t){delete e[t]}function removeProperties(e,t){for(var a=0;a<t.length;++a)delete e[t[a]]}function forEach(e,t,a){return angular.forEach(e,t,a)}function defineScalyrJsLibrary(e,t){var a=[];if(t instanceof Array)for(var n=0;n<t.length-1;++n)a.push(t[n]);return angular.module(e,a).factory(e,t)}function defineScalyrAngularModule(e,t){return angular.module(e,t)}angular.module("sly",["slyEvaluate","slyRepeat"]),defineScalyrAngularModule("slyEvaluate",["gatedScope"]).directive("slyEvaluateOnlyWhen",["$parse",function(e){return{scope:!0,restrict:"A",compile:function(){return{pre:function(t,a,n){var i=null,o=!1,r=e(n.slyEvaluateOnlyWhen),s=null;if(hasProperty(n,"slyAlwaysEvaluate")&&(s=n.slyAlwaysEvaluate,isStringEmpty(s)))throw new Exception("Empty string is illegal for value of slyAlwaysEvaluate");t.$addWatcherGate(function(){var e=r(t);if(!o)return o=!0,i=e,!0;var a=i!==e;return i=e,a},function(e){return isNull(s)||!(isStringNonempty(e)&&e.indexOf(s)>=0)},!0)}}}}}]).directive("slyAlwaysEvaluate",function(){return{restrict:"A",link:function(){}}}).directive("slyShow",["$animate",function(e){function t(e){if(e&&0!==e.length){var t=""+e;t=isString(t)?t.toLowerCase():t,e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}return{restrict:"A",link:function(a,n,i){a.$watch(i.slyShow,function(a){e[t(a)?"removeClass":"addClass"](n,"ng-hide")},!1,"slyShow")}}}]).directive("slyPreventEvaluationWhenHidden",function(){return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t){e.$addWatcherGate(function(){return!t.hasClass("ng-hide")},function(e,t,a,n){return!isDefined(n)||"slyShow"!=n})}}}}}),defineScalyrAngularModule("slyRepeat",["gatedScope"]).directive("slyRepeat",["$animate","$parse",function(e){function t(e){e.scope.$addWatcherGate(function(){return e.isActiveForRepeat})}return{restrict:"A",scope:!0,transclude:"element",priority:1e3,terminal:!0,compile:function(a,n,i){return function(a,n,o){var r=o.slyRepeat,s=r.match(/^\s*(.+)\s+in\s+(.*?)$/);if(!s)throw Error("Expected slyRepeat in form of '_item_ in _collection_' but got '"+r+"'.");var l=s[1],u=s[2];if(s=l.match(/^(?:([\$\w]+))$/),!s)throw Error("'item' in 'item in collection' should be identifier but got '"+lhs+"'.");var c=[],h=[],d=a.$watchCollection(u,function(o){if(o){if(!isArray(o))throw Error("'collection' did not evaluate to an array.  expression was "+u);var r=c.length;if(c.length<o.length&&h.length>0){var s=c.length+h.length;s>o.length&&(s=o.length),c=c.concat(h.splice(0,s-c.length))}var d=null,g=[],m=[];if(o.length>c.length){for(var p=c.length;p<o.length;++p){var S={scope:a.$new(),isActiveForRepeat:!0};t(S),S.scope.$index=p,S.scope.$first=0==p,m.push(S)}d=c.concat(m),g=h}else if(o.length<c.length){for(var p=o.length;p<c.length;++p)c[p].isActiveForRepeat=!1;g=c.splice(o.length,c.length-o.length).concat(h),d=c}else d=c,g=h;if(d.length>0){var f=d.length-1,y=d.length-1;r<d.length&&(f=r),f>0&&(f-=1);for(var p=f;p<=y;++p)d[p].scope.$last=p==d.length-1,d[p].scope.$middle=0!=p&&p!=d.length-1,d[p].isActiveForRepeat||(d[p].isActiveForRepeat=!0,d[p].element.css("display",""))}for(var p=0;p<g.length&&!g[p].isActiveForRepeat;++p)g[p].element.css("display","none");for(var p=0;p<d.length;++p)d[p].scope[l]=o[p];var v=n;c.length>0&&(v=c[c.length-1].element);for(var p=0;p<m.length;++p)i(m[p].scope,function(t){e.enter(t,null,v),v=t,m[p].element=t});c=d,h=g}});a.$on("$destroy",function(){d()})}}}}]),defineScalyrAngularModule("gatedScope",[]).config(["$provide",function(e){e.decorator("$rootScope",["$delegate","$exceptionHandler",function(e,t){var a={};for(var n in e)isFunction(e[n])&&(a[n]=e[n]);var i,o=e.constructor,r={};return r.$new=function(e){var t=a.$new.call(this,e);return t.$$gatingFunction=this.$$gatingFunction,t.$$parentGatingFunction=this.$$gatingFunction,t.$$shouldGateFunction=this.$$shouldGateFunction,t.$$gatedWatchers=[],t.$$cleanUpQueue=this.$$cleanUpQueue,t},r.$digestGated=function(e){var a,n,o,r,s,l,u=this,c=this,h=!1;do{if(o=u.$$gatedWatchers)for(r=o.length;r--;)try{if(a=o[r],a.gatingFunction!==e)continue;a&&!isNull(a.cleanUp)&&(a.cleanUp(),a.cleanUp=null),a&&(n=a.get(u))!==(l=a.last)&&!(a.eq?areEqual(n,l):"number"==typeof n&&"number"==typeof l&&isNaN(n)&&isNaN(l))&&(h=!0,a.last=a.eq?copy(n):n,a.fn(n,l===i?n:l,u))}catch(e){t(e)}if(!(s=u.$$gatingFunction===e&&u.$$childHead||u!==c&&u.$$nextSibling))for(;u!==c&&!(s=u.$$nextSibling);)u=u.$parent}while(u=s);return e.hasDigested=!0,h},r.$watch=function(e,t,n,o){if(isNull(this.$$gatingFunction)||!isNull(this.$$shouldGateFunction)&&!this.$$shouldGateFunction(e,t,n,o))return a.$watch.call(this,e,t,n);var r=this.$$watchers;this.$$watchers=this.$$gatedWatchers;var s=a.$watch.call(this,e,t,n);this.$$watchers=r,this.$$gatedWatchers[0].gatingFunction=this.$$gatingFunction,this.$$gatedWatchers[0].cleanUp=null,i=this.$$gatedWatchers[0].last;var l=this.$$gatedWatchers[0];if(this.$$gatingFunction.shouldEvalNewWatchers&&this.$$gatingFunction.hasDigested){var u=this;l.cleanUp=a.$watch.call(u,function(){isNull(l.cleanUp)||(u.$$cleanUpQueue.unshift(l.cleanUp),l.cleanUp=null);var e,t=i;return l&&(e=l.get(u))!==(t=l.last)&&!(l.eq?areEqual(e,t):"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t))&&(l.last=l.eq?copy(e):e,l.fn(e,t===i?e:t,u)),l.last})}return s},r.$digest=function(){var e=!1;if(!isNull(this.$$parentGatingFunction)&&this.$$parentGatingFunction()){var n=5;do if(e=this.$digestGated(this.$$parentGatingFunction),n--,e&&!n--)throw Error(TTL+" $digest() iterations reached for gated watcher. Aborting!\nWatchers fired in the last 5 iterations.");while(e)}e=a.$digest.call(this)||e;for(var i=this.$$cleanUpQueue;i.length;)try{i.shift()()}catch(e){t(e)}return e},r.$addWatcherGate=function(e,t,n){var i=0,o=this,r=!isNull(this.$$gatingFunction);!function(){var t=null;o.$watch(function(){return e()?o.$digestGated(e)&&++i:r&&isNull(t)&&(t=a.$watch.call(o,function(){return e()&&(t(),t=null,o.$digestGated(e)&&++i),i})),i})}(),isUndefined(t)&&(t=null),isUndefined(n)&&(n=!1),this.$$gatingFunction=e,this.$$gatingFunction.shouldEvalNewWatchers=n,this.$$shouldGateFunction=t},angular.extend(o.prototype,r),angular.extend(e,r),e.$$gatingFunction=null,e.$$parentGatingFunction=null,e.$$shouldGateFunction=null,e.$$gatedWatchers=[],e.$$cleanUpQueue=[],e}])}]);